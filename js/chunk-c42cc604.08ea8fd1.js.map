{"version":3,"sources":["webpack:///./node_modules/get-it/lib/util/global.js","webpack:///./node_modules/get-it/lib/request/browser/fetchXhr.js","webpack:///./node_modules/@sanity/client/lib/http/requestOptions.js","webpack:///./node_modules/@sanity/client/lib/util/pick.js","webpack:///./node_modules/get-it/lib/middleware/defaultOptionsProcessor.js","webpack:///./node_modules/rxjs/internal/Subscriber.js","webpack:///./node_modules/url-parse/index.js","webpack:///./node_modules/rxjs/internal/util/isObject.js","webpack:///./node_modules/@sanity/generate-help-url/dist/generate-help-url.esm.js","webpack:///./node_modules/rxjs/internal/Observer.js","webpack:///./node_modules/@sanity/client/lib/projects/projectsClient.js","webpack:///./node_modules/@sanity/client/lib/warnings.js","webpack:///./node_modules/rxjs/internal/util/UnsubscriptionError.js","webpack:///./node_modules/@sanity/client/lib/util/getSelection.js","webpack:///./node_modules/@sanity/client/lib/http/errors.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/rxjs/internal/util/hostReportError.js","webpack:///./node_modules/rxjs/internal/Observable.js","webpack:///./node_modules/requires-port/index.js","webpack:///./node_modules/get-it/lib/middleware/jsonResponse.js","webpack:///./node_modules/@sanity/client/lib/validators.js","webpack:///./node_modules/rxjs/internal/util/toSubscriber.js","webpack:///./node_modules/@sanity/client/lib/http/queryString.js","webpack:///./node_modules/parse-headers/parse-headers.js","webpack:///./node_modules/@sanity/eventsource/browser.js","webpack:///./node_modules/get-it/lib/request/browser-request.js","webpack:///./node_modules/make-error/index.js","webpack:///./node_modules/get-it/lib/index.js","webpack:///./node_modules/get-it/lib/middleware/progress/browser-progress.js","webpack:///./node_modules/same-origin/index.js","webpack:///./node_modules/@sanity/client/lib/datasets/datasetsClient.js","webpack:///./node_modules/@sanity/client/lib/data/listen.js","webpack:///./src/client.js","webpack:///./node_modules/@sanity/client/lib/util/observable.js","webpack:///./node_modules/get-it/lib/middleware/observable.js","webpack:///./node_modules/same-origin/url-parser.js","webpack:///./node_modules/@sanity/client/lib/http/browserMiddleware.js","webpack:///./node_modules/get-it/lib/middleware/defaultOptionsValidator.js","webpack:///./node_modules/event-source-polyfill/src/eventsource.js","webpack:///./node_modules/@sanity/client/lib/data/transaction.js","webpack:///./node_modules/rxjs/internal/util/isArray.js","webpack:///./node_modules/querystringify/index.js","webpack:///./node_modules/rxjs/internal/config.js","webpack:///./node_modules/get-it/lib/request/index.js","webpack:///./node_modules/@sanity/client/lib/util/once.js","webpack:///./node_modules/get-it/lib/util/middlewareReducer.js","webpack:///./node_modules/rxjs/internal/util/isFunction.js","webpack:///./node_modules/rxjs/internal/symbol/rxSubscriber.js","webpack:///./node_modules/isobject/index.js","webpack:///./node_modules/@sanity/client/lib/data/dataMethods.js","webpack:///./node_modules/rxjs/internal/operators/map.js","webpack:///./node_modules/@sanity/client/lib/util/defaults.js","webpack:///./node_modules/@sanity/client/lib/data/patch.js","webpack:///./node_modules/@sanity/client/lib/auth/authClient.js","webpack:///./node_modules/get-it/index.js","webpack:///./node_modules/@sanity/client/lib/http/request.js","webpack:///./node_modules/@sanity/client/lib/data/encodeQueryString.js","webpack:///./node_modules/rxjs/internal/util/identity.js","webpack:///./node_modules/rxjs/internal/util/canReportError.js","webpack:///./node_modules/rxjs/internal/Subscription.js","webpack:///./node_modules/rxjs/internal/symbol/observable.js","webpack:///./node_modules/get-it/lib/middleware/progress/index.js","webpack:///./node_modules/@sanity/client/lib/assets/assetsClient.js","webpack:///./node_modules/@sanity/client/lib/config.js","webpack:///./node_modules/rxjs/internal/operators/filter.js","webpack:///./node_modules/@sanity/client/lib/users/usersClient.js","webpack:///./node_modules/get-it/lib/middleware/jsonRequest.js","webpack:///./node_modules/nano-pubsub/index.js","webpack:///./node_modules/rxjs/internal/util/pipe.js","webpack:///./node_modules/is-plain-object/index.js","webpack:///./node_modules/@sanity/client/lib/sanityClient.js"],"names":["globalThis","module","exports","window","global","self","FetchXhr","this","readyState","prototype","open","method","url","_method","_url","_resHeaders","onreadystatechange","abort","_controller","getAllResponseHeaders","setRequestHeader","key","value","_headers","send","body","_this","ctrl","AbortController","textBody","responseType","options","headers","signal","credentials","withCredentials","fetch","then","res","forEach","concat","status","statusText","text","arrayBuffer","resBody","responseText","response","catch","err","name","onerror","onabort","assign","projectHeader","config","overrides","arguments","length","undefined","token","Authorization","useGlobalApi","useProjectHostname","projectId","Boolean","timeout","proxy","json","obj","props","reduce","selection","prop","objectAssign","urlParse","isReactNative","navigator","product","has","Object","hasOwnProperty","defaultOptions","stringifyQueryString","pairs","call","push","join","val","Array","isArray","item","map","encodeURIComponent","normalizeTimeout","time","connect","socket","delay","Number","isNaN","removeUndefined","target","opts","query","toUpperCase","toString","__extends","extendStatics","d","b","setPrototypeOf","__proto__","p","__","constructor","create","defineProperty","isFunction_1","Observer_1","Subscription_1","rxSubscriber_1","config_1","hostReportError_1","Subscriber","_super","destinationOrNext","error","complete","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","empty","add","SafeSubscriber","rxSubscriber","next","subscriber","_next","_error","_complete","unsubscribe","closed","_unsubscribeAndRecycle","_parentOrParents","Subscription","_parentSubscriber","observerOrNext","context","isFunction","bind","_context","useDeprecatedSynchronousErrorHandling","__tryOrSetError","__tryOrUnsub","hostReportError","wrappedComplete","fn","parent","Error","_unsubscribe","required","qs","controlOrWhitespace","CRHTLF","slashes","port","protocolre","windowsDriveLetter","trimLeft","str","replace","rules","address","isSpecial","protocol","NaN","ignore","hash","lolcation","loc","globalVar","location","finaldestination","type","Url","unescape","pathname","test","href","scheme","extractProtocol","rest","match","exec","toLowerCase","forwardSlashes","otherSlashes","slashesCount","slice","resolve","relative","base","path","split","i","last","unshift","up","splice","parser","extracted","parse","instruction","index","instructions","lastIndexOf","indexOf","charAt","host","hostname","username","password","auth","decodeURIComponent","origin","set","part","pop","char","ins","stringify","result","isObject","x","BASE_URL","generateHelpUrl","slug","ProjectsClient","client","list","request","uri","getById","id","once","createWarningPrinter","message","_console","_len","args","_key","console","warn","apply","printCdnWarning","printBrowserTokenWarning","printNoApiVersionSpecifiedWarning","UnsubscriptionErrorImpl","errors","UnsubscriptionError","sel","params","selectionOpts","makeError","ClientError","extractErrorProps","super","ServerError","statusCode","responseBody","stringifyBody","description","details","httpErrorMessage","statusMessage","contentType","isJson","JSON","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","TypeError","shouldUseNative","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","n","test3","letter","keys","source","from","symbols","to","s","setTimeout","canReportError_1","toSubscriber_1","observable_1","pipe_1","Observable","subscribe","_isScalar","_subscribe","lift","operator","observable","sink","toSubscriber","_trySubscribe","canReportError","promiseCtor","getPromiseCtor","reject","subscription","pipe","operations","_i","pipeFromArray","toPromise","Promise","tryParse","onResponse","shouldDecode","force","processOptions","Accept","_typeof","Symbol","iterator","VALID_ASSET_TYPES","VALID_INSERT_LOCATIONS","dataset","validateAssetType","validateObject","op","requireDocumentId","doc","_id","validateDocumentId","validateInsert","at","selector","items","signature","valid","hasDataset","requestTag","tag","Subscriber_1","nextOrObserver","trim","string","arg","headersArr","row","evs","EventSourcePolyfill","sameOrigin","parseHeaders","noop","win","adapter","XmlHttpRequest","XMLHttpRequest","hasXhr2","XDR","XDomainRequest","CrossDomainRequest","callback","applyMiddleware","timers","cors","injectedResponse","cbTimer","cancel","clearTimeout","xhr","isXdr","delays","aborted","loaded","timedOut","onError","ontimeout","stopTimers","onprogress","loadEvent","resetTimers","onLoad","rawBody","timeoutRequest","code","channels","publish","isNetworkError","reduceResponse","construct","Reflect","captureStackTrace","BaseError","configurable","writable","cname","container","get","stack","setFunctionName","f","_","super_","properties","pubsub","middlewareReducer","validateOptions","httpRequester","channelNames","middlehooks","createRequester","initMiddleware","httpRequest","loadedMiddleware","middleware","ware","ongoingRequest","ctx","returnValue","reqErr","use","newMiddleware","onReturn","clone","onRequest","evt","upload","handleProgress","stage","event","percent","lengthComputable","total","progress","uri1","uri2","ieMode","url1","url2","url1Port","url2Port","proto","validate","DatasetsClient","_modify","edit","delete","ownKeys","object","enumerableOnly","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_require","polyfilledEventSource","pick","defaults","encodeQueryString","MAX_URL_LENGTH","EventSource","possibleOptions","includeResult","parseEvent","data","cooerceError","extractErrorMessage","_this$clientConfig","clientConfig","requestTagPrefix","listenOpts","getDataUrl","observer","listenFor","events","shouldEmitReconnect","esOptions","reconnectTimer","es","getEventSource","stopped","emitReconnect","CLOSED","onChannelError","onMessage","onDisconnect","removeEventListener","close","addEventListener","stop","sanityClient","useCdn","apiVersion","_require2","_require3","implementation","regex","validUrl","ActiveXObject","NativeEventSource","document","Response","TextDecoder","TextEncoder","C","F","Date","now","getTime","originalFetch2","cache","reader","getReader","_reader","_aborted","TextDecoderPolyfill","bitsNeeded","codePoint","decode","octets","shift","octetsCount","REPLACER","octet","supportsStreamOption","encode","stream","debug","k","XHRWrapper","onload","_contentType","_xhr","_sendTimeout","_abort","c","charCodeAt","HeadersPolyfill","all","array","line","parts","_map","XHRTransport","HeadersWrapper","FetchTransport","EventTarget","_listeners","throwError","e","Event","MessageEvent","lastEventId","ConnectionEvent","ErrorEvent","that","state","silent","onStart","getResponseHeader","onProgress","onFinish","preventDefault","onReadyStateChange","onTimeout","error1","HEADERS_RECEIVED","onStartCallback","onProgressCallback","onFinishCallback","offset","chunk","controller","textDecoder","readNextChunk","read","done","dispatchEvent","typeListeners","listener","handleEvent","listeners","found","filtered","WAITING","CONNECTING","OPEN","AFTER_CR","FIELD_START","FIELD","VALUE_START","VALUE","contentTypeRegExp","MINIMUM_DURATION","MAXIMUM_DURATION","parseDuration","def","parseInt","clampDuration","Math","min","max","fire","onopen","onmessage","_close","start","getBestXHRTransport","isFetchSupported","lastEventIdQueryParameterName","initialRetry","heartbeatTimeout","retry","wasActivity","textLength","TransportOption","Transport","transport","abortController","currentState","dataBuffer","lastEventIdBuffer","eventTypeBuffer","textBuffer","fieldStart","valueStart","textChunk","position","field","requestURL","paramName","requestHeaders","nextHeartbeat","R","factory","v","validators","Patch","defaultMutateOptions","returnDocuments","Transaction","transactionId","trxId","_add","createIfNotExists","createOrReplace","documentId","patch","patchOps","isBuilder","isPatch","serialize","toJSON","commit","mutate","reset","mut","undef","input","querystring","querystringify","prefix","_enable_super_gross_mode_that_will_cause_bad_things","log","didCall","hook","defaultValue","bailEarly","handler","random","$$rxSubscriber","getSelection","listen","excludeFalsey","param","defValue","getMutationQuery","dryRun","returnIds","visibility","autoGenerateArrayKeys","skipCrossDatasetReferenceValidation","isResponse","getBody","indexBy","docs","attr","indexed","getQuerySizeLimit","operation","catalog","baseUri","mapResponse","filterResponse","_dataRequest","isPromiseAPI","getDocument","_requestObservable","documents","getDocuments","ids","_create","dataRequest","mutations","muts","transaction","endpoint","isMutation","isQuery","strQuery","useGet","stringQuery","returnFirst","reqOptions","canUseCdn","results","mutation","project","thisArg","MapOperator","MapSubscriber","count","_assign","diffMatchPatch","unset","attrs","setIfMissing","_set","$","inc","dec","insert","_this$_assign","append","prepend","deleteCount","delAll","startIndex","delCount","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","merge","AuthClient","getLoginProviders","logout","getIt","jsonRequest","jsonResponse","httpError","printWarnings","warnings","msg","envSpecific","requester","maxRedirects","defaultRequester","_excluded","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","enc","_ref","_ref$params","_ref$options","q","qString","option","identity","_a","closed_1","isArray_1","isObject_1","UnsubscriptionError_1","_subscriptions","_ctorUnsubscribe","remove","parent_1","flattenUnsubscriptionErrors","len","sub","teardown","EMPTY","tmp","subscriptions","subscriptionIndex","errs","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","arr2","_s","_e","_arr","_n","_d","queryString","AssetsClient","optionsFromFile","file","File","filename","preserveFilename","assetType","meta","extract","assetEndpoint","label","title","creditLine","sourceId","sourceName","sourceUrl","docId","getImageUrl","ref","_id$split","_id$split2","assetId","size","format","_this$client$clientCo","defaultCdnHost","defaultConfig","apiHost","LOCALHOSTS","isLocal","initConfig","prevConfig","specifiedConfig","newConfig","projectBased","helpUrl","isBrowser","isLocalhost","ignoreBrowserTokenWarning","isDefaultApi","validateApiVersion","hostParts","cdnHost","cdnUrl","apiDate","apiVersionValid","predicate","FilterOperator","FilterSubscriber","UsersClient","isPlainObject","serializeTypes","isBuffer","isStream","shouldSerialize","subscribers","idx","identity_1","fns","prev","isObjectObject","ctor","prot","dataMethods","getRequestOptions","SanityClient","assets","datasets","projects","users","observableConfig","withConfig","getUrl"],"mappings":"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","file":"js/chunk-c42cc604.08ea8fd1.js","sourcesContent":["\"use strict\";\n\n/* global globalThis */\n\n/* eslint-disable no-negated-condition */\nif (typeof globalThis !== 'undefined') {\n  module.exports = globalThis;\n} else if (typeof window !== 'undefined') {\n  module.exports = window;\n} else if (typeof global !== 'undefined') {\n  module.exports = global;\n} else if (typeof self !== 'undefined') {\n  module.exports = self;\n} else {\n  module.exports = {};\n}\n//# sourceMappingURL=global.js.map","\"use strict\";\n\n/**\n * Mimicks the XMLHttpRequest API with only the parts needed for get-it's XHR adapter\n */\nfunction FetchXhr() {\n  this.readyState = 0; // Unsent\n}\n\nFetchXhr.prototype.open = function (method, url) {\n  this._method = method;\n  this._url = url;\n  this._resHeaders = '';\n  this.readyState = 1; // Open\n\n  this.onreadystatechange();\n};\n\nFetchXhr.prototype.abort = function () {\n  if (this._controller) {\n    this._controller.abort();\n  }\n};\n\nFetchXhr.prototype.getAllResponseHeaders = function () {\n  return this._resHeaders;\n};\n\nFetchXhr.prototype.setRequestHeader = function (key, value) {\n  this._headers = this._headers || {};\n  this._headers[key] = value;\n};\n\nFetchXhr.prototype.send = function (body) {\n  var _this = this;\n\n  // eslint-disable-next-line no-multi-assign\n  var ctrl = this._controller = typeof AbortController === 'function' && new AbortController();\n  var textBody = this.responseType !== 'arraybuffer';\n  var options = {\n    method: this._method,\n    headers: this._headers,\n    signal: ctrl && ctrl.signal,\n    body: body\n  }; // Some environments (like CloudFlare workers) don't support credentials in\n  // RequestInitDict, and there doesn't seem to be any easy way to check for it,\n  // so for now let's just make do with a window check :/\n\n  if (typeof window !== 'undefined') {\n    options.credentials = this.withCredentials ? 'include' : 'omit';\n  }\n\n  fetch(this._url, options).then(function (res) {\n    res.headers.forEach(function (value, key) {\n      _this._resHeaders += \"\".concat(key, \": \").concat(value, \"\\r\\n\");\n    });\n    _this.status = res.status;\n    _this.statusText = res.statusText;\n    _this.readyState = 3; // Loading\n\n    return textBody ? res.text() : res.arrayBuffer();\n  }).then(function (resBody) {\n    if (textBody) {\n      _this.responseText = resBody;\n    } else {\n      _this.response = resBody;\n    }\n\n    _this.readyState = 4; // Done\n\n    _this.onreadystatechange();\n  }).catch(function (err) {\n    if (err.name === 'AbortError') {\n      _this.onabort();\n\n      return;\n    }\n\n    _this.onerror(err);\n  });\n};\n\nmodule.exports = FetchXhr;\n//# sourceMappingURL=fetchXhr.js.map","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar projectHeader = 'X-Sanity-Project-ID';\n\nmodule.exports = function (config) {\n  var overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var headers = {};\n  var token = overrides.token || config.token;\n\n  if (token) {\n    headers.Authorization = \"Bearer \".concat(token);\n  }\n\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n\n  var withCredentials = Boolean(typeof overrides.withCredentials === 'undefined' ? config.token || config.withCredentials : overrides.withCredentials);\n  var timeout = typeof overrides.timeout === 'undefined' ? config.timeout : overrides.timeout;\n  return assign({}, overrides, {\n    headers: assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === 'undefined' ? 5 * 60 * 1000 : timeout,\n    proxy: overrides.proxy || config.proxy,\n    json: true,\n    withCredentials: withCredentials\n  });\n};","\"use strict\";\n\nmodule.exports = function (obj, props) {\n  return props.reduce(function (selection, prop) {\n    if (typeof obj[prop] === 'undefined') {\n      return selection;\n    }\n\n    selection[prop] = obj[prop];\n    return selection;\n  }, {});\n};","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nvar urlParse = require('url-parse');\n\nvar isReactNative = typeof navigator === 'undefined' ? false : navigator.product === 'ReactNative';\nvar has = Object.prototype.hasOwnProperty;\nvar defaultOptions = {\n  timeout: isReactNative ? 60000 : 120000\n};\n\nmodule.exports = function (opts) {\n  var options = typeof opts === 'string' ? objectAssign({\n    url: opts\n  }, defaultOptions) : objectAssign({}, defaultOptions, opts); // Parse URL into parts\n\n  var url = urlParse(options.url, {}, // Don't use current browser location\n  true // Parse query strings\n  ); // Normalize timeouts\n\n  options.timeout = normalizeTimeout(options.timeout); // Shallow-merge (override) existing query params\n\n  if (options.query) {\n    url.query = objectAssign({}, url.query, removeUndefined(options.query));\n  } // Implicit POST if we have not specified a method but have a body\n\n\n  options.method = options.body && !options.method ? 'POST' : (options.method || 'GET').toUpperCase(); // Stringify URL\n\n  options.url = url.toString(stringifyQueryString);\n  return options;\n};\n\nfunction stringifyQueryString(obj) {\n  var pairs = [];\n\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      push(key, obj[key]);\n    }\n  }\n\n  return pairs.length ? pairs.join('&') : '';\n\n  function push(key, val) {\n    if (Array.isArray(val)) {\n      val.forEach(function (item) {\n        return push(key, item);\n      });\n    } else {\n      pairs.push([key, val].map(encodeURIComponent).join('='));\n    }\n  }\n}\n\nfunction normalizeTimeout(time) {\n  if (time === false || time === 0) {\n    return false;\n  }\n\n  if (time.connect || time.socket) {\n    return time;\n  }\n\n  var delay = Number(time);\n\n  if (isNaN(delay)) {\n    return normalizeTimeout(defaultOptions.timeout);\n  }\n\n  return {\n    connect: delay,\n    socket: delay\n  };\n}\n\nfunction removeUndefined(obj) {\n  var target = {};\n\n  for (var key in obj) {\n    if (obj[key] !== undefined) {\n      target[key] = obj[key];\n    }\n  }\n\n  return target;\n}\n//# sourceMappingURL=defaultOptionsProcessor.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_1 = require(\"./util/isFunction\");\nvar Observer_1 = require(\"./Observer\");\nvar Subscription_1 = require(\"./Subscription\");\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError_1.hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError_1.hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexports.SafeSubscriber = SafeSubscriber;\n//# sourceMappingURL=Subscriber.js.map","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , controlOrWhitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , port = /:\\d+$/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/;\n\n/**\n * Remove control characters and whitespace from the beginning of a string.\n *\n * @param {Object|String} str String to trim.\n * @returns {String} A new string representing `str` stripped of control\n *     characters and whitespace from its beginning.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(controlOrWhitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (port.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {\n    host += ':';\n  }\n\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(x) {\n    return x !== null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map","const BASE_URL = \"https://docs.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n  return BASE_URL + slug;\n}\nexport { generateHelpUrl };\n//# sourceMappingURL=generate-help-url.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError_1.hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction ProjectsClient(client) {\n  this.client = client;\n}\n\nassign(ProjectsClient.prototype, {\n  list: function list() {\n    return this.client.request({\n      uri: '/projects'\n    });\n  },\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/projects/\".concat(id)\n    });\n  }\n});\nmodule.exports = ProjectsClient;","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url').generateHelpUrl;\n\nvar once = require('./util/once');\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return (// eslint-disable-next-line no-console\n    once(function () {\n      var _console;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_console = console).warn.apply(_console, [message.join(' ')].concat(args));\n    })\n  );\n};\n\nexports.printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nexports.printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nexports.printNoApiVersionSpecifiedWarning = createWarningPrinter(['Using the Sanity client without specifying an API version is deprecated.', \"See \".concat(generateHelpUrl('js-client-api-version'))]);","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar UnsubscriptionErrorImpl = (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexports.UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map","\"use strict\";\n\nmodule.exports = function getSelection(sel) {\n  if (typeof sel === 'string' || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n\n  if (sel && sel.query) {\n    return 'params' in sel ? {\n      query: sel.query,\n      params: sel.params\n    } : {\n      query: sel.query\n    };\n  }\n\n  var selectionOpts = ['* Document ID (<docId>)', '* Array of document IDs', '* Object containing `query`'].join('\\n');\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n};","\"use strict\";\n\nvar makeError = require('make-error');\n\nvar assign = require('object-assign');\n\nfunction ClientError(res) {\n  var props = extractErrorProps(res);\n  ClientError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction ServerError(res) {\n  var props = extractErrorProps(res);\n  ServerError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction extractErrorProps(res) {\n  var body = res.body;\n  var props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res)\n  }; // API/Boom style errors ({statusCode, error, message})\n\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  } // Query/database errors ({error: {description, other, arb, props}})\n\n\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  } // Other, more arbitrary errors\n\n\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\n\nfunction httpErrorMessage(res) {\n  var statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : '';\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\n\nfunction stringifyBody(body, res) {\n  var contentType = (res.headers['content-type'] || '').toLowerCase();\n  var isJson = contentType.indexOf('application/json') !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\n\nmakeError(ClientError);\nmakeError(ServerError);\nexports.ClientError = ClientError;\nexports.ServerError = ServerError;","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\nexports.hostReportError = hostReportError;\n//# sourceMappingURL=hostReportError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar canReportError_1 = require(\"./util/canReportError\");\nvar toSubscriber_1 = require(\"./util/toSubscriber\");\nvar observable_1 = require(\"./symbol/observable\");\nvar pipe_1 = require(\"./util/pipe\");\nvar config_1 = require(\"./config\");\nvar Observable = (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError_1.canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config_1.config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (opts) {\n  return {\n    onResponse: function onResponse(response) {\n      var contentType = response.headers['content-type'] || '';\n      var shouldDecode = opts && opts.force || contentType.indexOf('application/json') !== -1;\n\n      if (!response.body || !contentType || !shouldDecode) {\n        return response;\n      }\n\n      return objectAssign({}, response, {\n        body: tryParse(response.body)\n      });\n    },\n    processOptions: function processOptions(options) {\n      return objectAssign({}, options, {\n        headers: objectAssign({\n          Accept: 'application/json'\n        }, options.headers)\n      });\n    }\n  };\n};\n\nfunction tryParse(body) {\n  try {\n    return JSON.parse(body);\n  } catch (err) {\n    err.message = \"Failed to parsed response body as JSON: \".concat(err.message);\n    throw err;\n  }\n}\n//# sourceMappingURL=jsonResponse.js.map","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar VALID_ASSET_TYPES = ['image', 'file'];\nvar VALID_INSERT_LOCATIONS = ['before', 'after', 'replace'];\n\nexports.dataset = function (name) {\n  if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n    throw new Error('Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters');\n  }\n};\n\nexports.projectId = function (id) {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error('`projectId` can only contain only a-z, 0-9 and dashes');\n  }\n};\n\nexports.validateAssetType = function (type) {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(', ')));\n  }\n};\n\nexports.validateObject = function (op, val) {\n  if (val === null || _typeof(val) !== 'object' || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\n\nexports.requireDocumentId = function (op, doc) {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n\n  exports.validateDocumentId(op, doc._id);\n};\n\nexports.validateDocumentId = function (op, id) {\n  if (typeof id !== 'string' || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\n\nexports.validateInsert = function (at, selector, items) {\n  var signature = 'insert(at, selector, items)';\n\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    var valid = VALID_INSERT_LOCATIONS.map(function (loc) {\n      return \"\\\"\".concat(loc, \"\\\"\");\n    }).join(', ');\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n\n  if (typeof selector !== 'string') {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\n\nexports.hasDataset = function (config) {\n  if (!config.dataset) {\n    throw new Error('`dataset` must be provided to perform queries');\n  }\n\n  return config.dataset || '';\n};\n\nexports.requestTag = function (tag) {\n  if (typeof tag !== 'string' || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n    throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n  }\n\n  return tag;\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nvar rxSubscriber_1 = require(\"../symbol/rxSubscriber\");\nvar Observer_1 = require(\"../Observer\");\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map","\"use strict\";\n\nmodule.exports = function (params) {\n  var qs = [];\n\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key])));\n    }\n  }\n\n  return qs.length > 0 ? \"?\".concat(qs.join('&')) : '';\n};","var trim = function(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n}\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  var headersArr = trim(headers).split('\\n')\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i]\n    var index = row.indexOf(':')\n    , key = trim(row.slice(0, index)).toLowerCase()\n    , value = trim(row.slice(index + 1))\n\n    if (typeof(result[key]) === 'undefined') {\n      result[key] = value\n    } else if (isArray(result[key])) {\n      result[key].push(value)\n    } else {\n      result[key] = [ result[key], value ]\n    }\n  }\n\n  return result\n}\n","/* eslint-disable no-var */\nvar evs = require(\"event-source-polyfill\");\n\nmodule.exports = evs.EventSourcePolyfill;\n","\"use strict\";\n\n/* eslint max-depth: [\"error\", 4] */\nvar sameOrigin = require('same-origin');\n\nvar parseHeaders = require('parse-headers');\n\nvar FetchXhr = require('./browser/fetchXhr');\n\nvar noop = function noop() {\n  /* intentional noop */\n};\n\nvar win = typeof window === 'undefined' ? undefined : window;\nvar adapter = win ? 'xhr' : 'fetch';\nvar XmlHttpRequest = typeof XMLHttpRequest === 'function' ? XMLHttpRequest : noop;\nvar hasXhr2 = ('withCredentials' in new XmlHttpRequest()); // eslint-disable-next-line no-undef\n\nvar XDR = typeof XDomainRequest === 'undefined' ? undefined : XDomainRequest;\nvar CrossDomainRequest = hasXhr2 ? XmlHttpRequest : XDR; // Fallback to fetch-based XHR polyfill for non-browser environments like Workers\n\nif (!win) {\n  XmlHttpRequest = FetchXhr;\n  CrossDomainRequest = FetchXhr;\n}\n\nmodule.exports = function (context, callback) {\n  var opts = context.options;\n  var options = context.applyMiddleware('finalizeOptions', opts);\n  var timers = {}; // Deep-checking window.location because of react native, where `location` doesn't exist\n\n  var cors = win && win.location && !sameOrigin(win.location.href, options.url); // Allow middleware to inject a response, for instance in the case of caching or mocking\n\n  var injectedResponse = context.applyMiddleware('interceptRequest', undefined, {\n    adapter: adapter,\n    context: context\n  }); // If middleware injected a response, treat it as we normally would and return it\n  // Do note that the injected response has to be reduced to a cross-environment friendly response\n\n  if (injectedResponse) {\n    var cbTimer = setTimeout(callback, 0, null, injectedResponse);\n\n    var cancel = function cancel() {\n      return clearTimeout(cbTimer);\n    };\n\n    return {\n      abort: cancel\n    };\n  } // We'll want to null out the request on success/failure\n\n\n  var xhr = cors ? new CrossDomainRequest() : new XmlHttpRequest();\n  var isXdr = win && win.XDomainRequest && xhr instanceof win.XDomainRequest;\n  var headers = options.headers;\n  var delays = options.timeout; // Request state\n\n  var aborted = false;\n  var loaded = false;\n  var timedOut = false; // Apply event handlers\n\n  xhr.onerror = onError;\n  xhr.ontimeout = onError;\n\n  xhr.onabort = function () {\n    stopTimers(true);\n    aborted = true;\n  }; // IE9 must have onprogress be set to a unique function\n\n\n  xhr.onprogress = function () {\n    /* intentional noop */\n  };\n\n  var loadEvent = isXdr ? 'onload' : 'onreadystatechange';\n\n  xhr[loadEvent] = function () {\n    // Prevent request from timing out\n    resetTimers();\n\n    if (aborted || xhr.readyState !== 4 && !isXdr) {\n      return;\n    } // Will be handled by onError\n\n\n    if (xhr.status === 0) {\n      return;\n    }\n\n    onLoad();\n  }; // @todo two last options to open() is username/password\n\n\n  xhr.open(options.method, options.url, true // Always async\n  ); // Some options need to be applied after open\n\n  xhr.withCredentials = !!options.withCredentials; // Set headers\n\n  if (headers && xhr.setRequestHeader) {\n    for (var key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  } else if (headers && isXdr) {\n    throw new Error('Headers cannot be set on an XDomainRequest object');\n  }\n\n  if (options.rawBody) {\n    xhr.responseType = 'arraybuffer';\n  } // Let middleware know we're about to do a request\n\n\n  context.applyMiddleware('onRequest', {\n    options: options,\n    adapter: adapter,\n    request: xhr,\n    context: context\n  });\n  xhr.send(options.body || null); // Figure out which timeouts to use (if any)\n\n  if (delays) {\n    timers.connect = setTimeout(function () {\n      return timeoutRequest('ETIMEDOUT');\n    }, delays.connect);\n  }\n\n  return {\n    abort: abort\n  };\n\n  function abort() {\n    aborted = true;\n\n    if (xhr) {\n      xhr.abort();\n    }\n  }\n\n  function timeoutRequest(code) {\n    timedOut = true;\n    xhr.abort();\n    var error = new Error(code === 'ESOCKETTIMEDOUT' ? \"Socket timed out on request to \".concat(options.url) : \"Connection timed out on request to \".concat(options.url));\n    error.code = code;\n    context.channels.error.publish(error);\n  }\n\n  function resetTimers() {\n    if (!delays) {\n      return;\n    }\n\n    stopTimers();\n    timers.socket = setTimeout(function () {\n      return timeoutRequest('ESOCKETTIMEDOUT');\n    }, delays.socket);\n  }\n\n  function stopTimers(force) {\n    // Only clear the connect timeout if we've got a connection\n    if (force || aborted || xhr.readyState >= 2 && timers.connect) {\n      clearTimeout(timers.connect);\n    }\n\n    if (timers.socket) {\n      clearTimeout(timers.socket);\n    }\n  }\n\n  function onError(error) {\n    if (loaded) {\n      return;\n    } // Clean up\n\n\n    stopTimers(true);\n    loaded = true;\n    xhr = null; // Annoyingly, details are extremely scarce and hidden from us.\n    // We only really know that it is a network error\n\n    var err = error || new Error(\"Network error while attempting to reach \".concat(options.url));\n    err.isNetworkError = true;\n    err.request = options;\n    callback(err);\n  }\n\n  function reduceResponse() {\n    var statusCode = xhr.status;\n    var statusMessage = xhr.statusText;\n\n    if (isXdr && statusCode === undefined) {\n      // IE8 CORS GET successful response doesn't have a status field, but body is fine\n      statusCode = 200;\n    } else if (statusCode > 12000 && statusCode < 12156) {\n      // Yet another IE quirk where it emits weird status codes on network errors\n      // https://support.microsoft.com/en-us/kb/193625\n      return onError();\n    } else {\n      // Another IE bug where HTTP 204 somehow ends up as 1223\n      statusCode = xhr.status === 1223 ? 204 : xhr.status;\n      statusMessage = xhr.status === 1223 ? 'No Content' : statusMessage;\n    }\n\n    return {\n      body: xhr.response || xhr.responseText,\n      url: options.url,\n      method: options.method,\n      headers: isXdr ? {} : parseHeaders(xhr.getAllResponseHeaders()),\n      statusCode: statusCode,\n      statusMessage: statusMessage\n    };\n  }\n\n  function onLoad() {\n    if (aborted || loaded || timedOut) {\n      return;\n    }\n\n    if (xhr.status === 0) {\n      onError(new Error('Unknown XHR error'));\n      return;\n    } // Prevent being called twice\n\n\n    stopTimers();\n    loaded = true;\n    callback(null, reduceResponse());\n  }\n};\n//# sourceMappingURL=browser-request.js.map","// ISC @ Julien Fontanet\n\n\"use strict\";\n\n// ===================================================================\n\nvar construct = typeof Reflect !== \"undefined\" ? Reflect.construct : undefined;\nvar defineProperty = Object.defineProperty;\n\n// -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace;\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace(error) {\n    var container = new Error();\n\n    defineProperty(error, \"stack\", {\n      configurable: true,\n      get: function getStack() {\n        var stack = container.stack;\n\n        // Replace property with value for faster future accesses.\n        defineProperty(this, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n\n        return stack;\n      },\n      set: function setStack(stack) {\n        defineProperty(error, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n      },\n    });\n  };\n}\n\n// -------------------------------------------------------------------\n\nfunction BaseError(message) {\n  if (message !== undefined) {\n    defineProperty(this, \"message\", {\n      configurable: true,\n      value: message,\n      writable: true,\n    });\n  }\n\n  var cname = this.constructor.name;\n  if (cname !== undefined && cname !== this.name) {\n    defineProperty(this, \"name\", {\n      configurable: true,\n      value: cname,\n      writable: true,\n    });\n  }\n\n  captureStackTrace(this, this.constructor);\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true,\n  },\n});\n\n// -------------------------------------------------------------------\n\n// Sets the name of a function if possible (depends of the JS engine).\nvar setFunctionName = (function() {\n  function setFunctionName(fn, name) {\n    return defineProperty(fn, \"name\", {\n      configurable: true,\n      value: name,\n    });\n  }\n  try {\n    var f = function() {};\n    setFunctionName(f, \"foo\");\n    if (f.name === \"foo\") {\n      return setFunctionName;\n    }\n  } catch (_) {}\n})();\n\n// -------------------------------------------------------------------\n\nfunction makeError(constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError;\n  } else if (typeof super_ !== \"function\") {\n    throw new TypeError(\"super_ should be a function\");\n  }\n\n  var name;\n  if (typeof constructor === \"string\") {\n    name = constructor;\n    constructor =\n      construct !== undefined\n        ? function() {\n            return construct(super_, arguments, this.constructor);\n          }\n        : function() {\n            super_.apply(this, arguments);\n          };\n\n    // If the name can be set, do it once and for all.\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name);\n      name = undefined;\n    }\n  } else if (typeof constructor !== \"function\") {\n    throw new TypeError(\"constructor should be either a string or a function\");\n  }\n\n  // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  //\n  // eslint-disable-next-line dot-notation\n  constructor.super_ = constructor[\"super\"] = super_;\n\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true,\n    },\n  };\n\n  // If the name could not be set on the constructor, set it on the\n  // prototype.\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true,\n    };\n  }\n  constructor.prototype = Object.create(super_.prototype, properties);\n\n  return constructor;\n}\nexports = module.exports = makeError;\nexports.BaseError = BaseError;\n","\"use strict\";\n\nvar pubsub = require('nano-pubsub');\n\nvar middlewareReducer = require('./util/middlewareReducer');\n\nvar processOptions = require('./middleware/defaultOptionsProcessor');\n\nvar validateOptions = require('./middleware/defaultOptionsValidator');\n\nvar httpRequester = require('./request'); // node-request in node, browser-request in browsers\n\n\nvar channelNames = ['request', 'response', 'progress', 'error', 'abort'];\nvar middlehooks = ['processOptions', 'validateOptions', 'interceptRequest', 'finalizeOptions', 'onRequest', 'onResponse', 'onError', 'onReturn', 'onHeaders'];\n\nmodule.exports = function createRequester() {\n  var initMiddleware = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var httpRequest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : httpRequester;\n  var loadedMiddleware = [];\n  var middleware = middlehooks.reduce(function (ware, name) {\n    ware[name] = ware[name] || [];\n    return ware;\n  }, {\n    processOptions: [processOptions],\n    validateOptions: [validateOptions]\n  });\n\n  function request(opts) {\n    var channels = channelNames.reduce(function (target, name) {\n      target[name] = pubsub();\n      return target;\n    }, {}); // Prepare a middleware reducer that can be reused throughout the lifecycle\n\n    var applyMiddleware = middlewareReducer(middleware); // Parse the passed options\n\n    var options = applyMiddleware('processOptions', opts); // Validate the options\n\n    applyMiddleware('validateOptions', options); // Build a context object we can pass to child handlers\n\n    var context = {\n      options: options,\n      channels: channels,\n      applyMiddleware: applyMiddleware\n    }; // We need to hold a reference to the current, ongoing request,\n    // in order to allow cancellation. In the case of the retry middleware,\n    // a new request might be triggered\n\n    var ongoingRequest = null;\n    var unsubscribe = channels.request.subscribe(function (ctx) {\n      // Let request adapters (node/browser) perform the actual request\n      ongoingRequest = httpRequest(ctx, function (err, res) {\n        return onResponse(err, res, ctx);\n      });\n    }); // If we abort the request, prevent further requests from happening,\n    // and be sure to cancel any ongoing request (obviously)\n\n    channels.abort.subscribe(function () {\n      unsubscribe();\n\n      if (ongoingRequest) {\n        ongoingRequest.abort();\n      }\n    }); // See if any middleware wants to modify the return value - for instance\n    // the promise or observable middlewares\n\n    var returnValue = applyMiddleware('onReturn', channels, context); // If return value has been modified by a middleware, we expect the middleware\n    // to publish on the 'request' channel. If it hasn't been modified, we want to\n    // trigger it right away\n\n    if (returnValue === channels) {\n      channels.request.publish(context);\n    }\n\n    return returnValue;\n\n    function onResponse(reqErr, res, ctx) {\n      var error = reqErr;\n      var response = res; // We're processing non-errors first, in case a middleware converts the\n      // response into an error (for instance, status >= 400 == HttpError)\n\n      if (!error) {\n        try {\n          response = applyMiddleware('onResponse', res, ctx);\n        } catch (err) {\n          response = null;\n          error = err;\n        }\n      } // Apply error middleware - if middleware return the same (or a different) error,\n      // publish as an error event. If we *don't* return an error, assume it has been handled\n\n\n      error = error && applyMiddleware('onError', error, ctx); // Figure out if we should publish on error/response channels\n\n      if (error) {\n        channels.error.publish(error);\n      } else if (response) {\n        channels.response.publish(response);\n      }\n    }\n  }\n\n  request.use = function use(newMiddleware) {\n    if (!newMiddleware) {\n      throw new Error('Tried to add middleware that resolved to falsey value');\n    }\n\n    if (typeof newMiddleware === 'function') {\n      throw new Error('Tried to add middleware that was a function. It probably expects you to pass options to it.');\n    }\n\n    if (newMiddleware.onReturn && middleware.onReturn.length > 0) {\n      throw new Error('Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event');\n    }\n\n    middlehooks.forEach(function (key) {\n      if (newMiddleware[key]) {\n        middleware[key].push(newMiddleware[key]);\n      }\n    });\n    loadedMiddleware.push(newMiddleware);\n    return request;\n  };\n\n  request.clone = function clone() {\n    return createRequester(loadedMiddleware);\n  };\n\n  initMiddleware.forEach(request.use);\n  return request;\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nmodule.exports = function () {\n  return {\n    onRequest: function onRequest(evt) {\n      if (evt.adapter !== 'xhr') {\n        return;\n      }\n\n      var xhr = evt.request;\n      var context = evt.context;\n\n      if ('upload' in xhr && 'onprogress' in xhr.upload) {\n        xhr.upload.onprogress = handleProgress('upload');\n      }\n\n      if ('onprogress' in xhr) {\n        xhr.onprogress = handleProgress('download');\n      }\n\n      function handleProgress(stage) {\n        return function (event) {\n          var percent = event.lengthComputable ? event.loaded / event.total * 100 : -1;\n          context.channels.progress.publish({\n            stage: stage,\n            percent: percent,\n            total: event.total,\n            loaded: event.loaded,\n            lengthComputable: event.lengthComputable\n          });\n        };\n      }\n    }\n  };\n};\n//# sourceMappingURL=browser-progress.js.map","'use strict';\n\nvar url = require('url');\n\nmodule.exports = function(uri1, uri2, ieMode) {\n    if (uri1 === uri2) {\n        return true;\n    }\n\n    var url1 = url.parse(uri1, false, true);\n    var url2 = url.parse(uri2, false, true);\n\n    var url1Port = url1.port|0 || (url1.protocol === 'https' ? 443 : 80);\n    var url2Port = url2.port|0 || (url2.protocol === 'https' ? 443 : 80);\n\n    var match = {\n        proto: url1.protocol === url2.protocol,\n        hostname: url1.hostname === url2.hostname,\n        port: url1Port === url2Port\n    };\n\n    return ((match.proto && match.hostname) && (match.port || ieMode));\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar validate = require('../validators');\n\nfunction DatasetsClient(client) {\n  this.request = client.request.bind(client);\n}\n\nassign(DatasetsClient.prototype, {\n  create: function create(name, options) {\n    return this._modify('PUT', name, options);\n  },\n  edit: function edit(name, options) {\n    return this._modify('PATCH', name, options);\n  },\n  delete: function _delete(name) {\n    return this._modify('DELETE', name);\n  },\n  list: function list() {\n    return this.request({\n      uri: '/datasets'\n    });\n  },\n  _modify: function _modify(method, name, body) {\n    validate.dataset(name);\n    return this.request({\n      method: method,\n      uri: \"/datasets/\".concat(name),\n      body: body\n    });\n  }\n});\nmodule.exports = DatasetsClient;","\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar pick = require('../util/pick');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString'); // Limit is 16K for a _request_, eg including headers. Have to account for an\n// unknown range of headers, but an average EventSource request from Chrome seems\n// to have around 700 bytes of cruft, so let us account for 1.2K to be \"safe\"\n\n\nvar MAX_URL_LENGTH = 16000 - 1200;\nvar EventSource = polyfilledEventSource;\nvar possibleOptions = ['includePreviousRevision', 'includeResult', 'visibility', 'effectFormat', 'tag'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials,\n      requestTagPrefix = _this$clientConfig.requestTagPrefix;\n  var tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join('.') : opts.tag;\n\n  var options = _objectSpread(_objectSpread({}, defaults(opts, defaultOptions)), {}, {\n    tag: tag\n  });\n\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts,\n    tag: tag\n  });\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n\n  if (uri.length > MAX_URL_LENGTH) {\n    return new Observable(function (observer) {\n      return observer.error(new Error('Query too large for listener'));\n    });\n  }\n\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}","import sanityClient from \"@sanity/client\";\r\n\r\nexport default sanityClient({\r\n  projectId: \"05o9l6gi\", // find this at manage.sanity.io or in your sanity.json\r\n  dataset: \"production\", // this is from those question during 'sanity init'\r\n  useCdn: true,\r\n  apiVersion: \"2021-03-25\",\r\n});\r\n","\"use strict\";\n\n//  Since `@sanity/client` doesn't offer ESM exports (yet) const {filter} = require('rxjs/operators') will cause the the whole of rxjs to be included in the bundle.\n//  The internal import paths here is a stop-gap measure and will become less of a problem when @sanity/client export tree-shakeable esm bundles\nvar _require = require('rxjs/internal/Observable'),\n    Observable = _require.Observable;\n\nvar _require2 = require('rxjs/internal/operators/filter'),\n    filter = _require2.filter;\n\nvar _require3 = require('rxjs/internal/operators/map'),\n    map = _require3.map;\n\nmodule.exports = {\n  Observable: Observable,\n  filter: filter,\n  map: map\n};","\"use strict\";\n\nvar global = require('../util/global');\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function () {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var Observable = opts.implementation || global.Observable;\n\n  if (!Observable) {\n    throw new Error('`Observable` is not available in global scope, and no implementation was passed');\n  }\n\n  return {\n    onReturn: function onReturn(channels, context) {\n      return new Observable(function (observer) {\n        channels.error.subscribe(function (err) {\n          return observer.error(err);\n        });\n        channels.progress.subscribe(function (event) {\n          return observer.next(objectAssign({\n            type: 'progress'\n          }, event));\n        });\n        channels.response.subscribe(function (response) {\n          observer.next(objectAssign({\n            type: 'response'\n          }, response));\n          observer.complete();\n        });\n        channels.request.publish(context);\n        return function () {\n          return channels.abort.publish();\n        };\n      });\n    }\n  };\n};\n//# sourceMappingURL=observable.js.map","/**\n * This file is only used for the browser version of `same-origin`.\n * Used to bring down the size of the browser bundle.\n */\n'use strict';\n\nvar regex = /^(?:(?:(?:([^:\\/#\\?]+:)?(?:(?:\\/\\/)((?:((?:[^:@\\/#\\?]+)(?:\\:(?:[^:@\\/#\\?]+))?)@)?(([^:\\/#\\?\\]\\[]+|\\[[^\\/\\]@#?]+\\])(?:\\:([0-9]+))?))?)?)?((?:\\/?(?:[^\\/\\?#]+\\/+)*)(?:[^\\?#]*)))?(\\?[^#]+)?)(#.*)?/;\n\nmodule.exports = {\n    regex: regex,\n    parse: function(url) {\n        var match = regex.exec(url);\n        if (!match) {\n            return {};\n        }\n\n        return {\n            protocol: (match[1] || '').toLowerCase() || undefined,\n            hostname: (match[5] || '').toLowerCase() || undefined,\n            port: match[6] || undefined\n        };\n    }\n};","\"use strict\";\n\nmodule.exports = [];","\"use strict\";\n\nvar validUrl = /^https?:\\/\\//i;\n\nmodule.exports = function (options) {\n  if (!validUrl.test(options.url)) {\n    throw new Error(\"\\\"\".concat(options.url, \"\\\" is not a valid URL\"));\n  }\n};\n//# sourceMappingURL=defaultOptionsValidator.js.map","/** @license\r\n * eventsource.js\r\n * Available under MIT License (MIT)\r\n * https://github.com/Yaffle/EventSource/\r\n */\r\n\r\n/*jslint indent: 2, vars: true, plusplus: true */\r\n/*global setTimeout, clearTimeout */\r\n\r\n(function (global) {\r\n  \"use strict\";\r\n\r\n  var setTimeout = global.setTimeout;\r\n  var clearTimeout = global.clearTimeout;\r\n  var XMLHttpRequest = global.XMLHttpRequest;\r\n  var XDomainRequest = global.XDomainRequest;\r\n  var ActiveXObject = global.ActiveXObject;\r\n  var NativeEventSource = global.EventSource;\r\n\r\n  var document = global.document;\r\n  var Promise = global.Promise;\r\n  var fetch = global.fetch;\r\n  var Response = global.Response;\r\n  var TextDecoder = global.TextDecoder;\r\n  var TextEncoder = global.TextEncoder;\r\n  var AbortController = global.AbortController;\r\n\r\n  if (typeof window !== \"undefined\" && typeof document !== \"undefined\" && !(\"readyState\" in document) && document.body == null) { // Firefox 2\r\n    document.readyState = \"loading\";\r\n    window.addEventListener(\"load\", function (event) {\r\n      document.readyState = \"complete\";\r\n    }, false);\r\n  }\r\n\r\n  if (XMLHttpRequest == null && ActiveXObject != null) { // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest_in_IE6\r\n    XMLHttpRequest = function () {\r\n      return new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    };\r\n  }\r\n\r\n  if (Object.create == undefined) {\r\n    Object.create = function (C) {\r\n      function F(){}\r\n      F.prototype = C;\r\n      return new F();\r\n    };\r\n  }\r\n\r\n  if (!Date.now) {\r\n    Date.now = function now() {\r\n      return new Date().getTime();\r\n    };\r\n  }\r\n\r\n  // see #118 (Promise#finally with polyfilled Promise)\r\n  // see #123 (data URLs crash Edge)\r\n  // see #125 (CSP violations)\r\n  // see pull/#138\r\n  // => No way to polyfill Promise#finally\r\n\r\n  if (AbortController == undefined) {\r\n    var originalFetch2 = fetch;\r\n    fetch = function (url, options) {\r\n      var signal = options.signal;\r\n      return originalFetch2(url, {headers: options.headers, credentials: options.credentials, cache: options.cache}).then(function (response) {\r\n        var reader = response.body.getReader();\r\n        signal._reader = reader;\r\n        if (signal._aborted) {\r\n          signal._reader.cancel();\r\n        }\r\n        return {\r\n          status: response.status,\r\n          statusText: response.statusText,\r\n          headers: response.headers,\r\n          body: {\r\n            getReader: function () {\r\n              return reader;\r\n            }\r\n          }\r\n        };\r\n      });\r\n    };\r\n    AbortController = function () {\r\n      this.signal = {\r\n        _reader: null,\r\n        _aborted: false\r\n      };\r\n      this.abort = function () {\r\n        if (this.signal._reader != null) {\r\n          this.signal._reader.cancel();\r\n        }\r\n        this.signal._aborted = true;\r\n      };\r\n    };\r\n  }\r\n\r\n  function TextDecoderPolyfill() {\r\n    this.bitsNeeded = 0;\r\n    this.codePoint = 0;\r\n  }\r\n\r\n  TextDecoderPolyfill.prototype.decode = function (octets) {\r\n    function valid(codePoint, shift, octetsCount) {\r\n      if (octetsCount === 1) {\r\n        return codePoint >= 0x0080 >> shift && codePoint << shift <= 0x07FF;\r\n      }\r\n      if (octetsCount === 2) {\r\n        return codePoint >= 0x0800 >> shift && codePoint << shift <= 0xD7FF || codePoint >= 0xE000 >> shift && codePoint << shift <= 0xFFFF;\r\n      }\r\n      if (octetsCount === 3) {\r\n        return codePoint >= 0x010000 >> shift && codePoint << shift <= 0x10FFFF;\r\n      }\r\n      throw new Error();\r\n    }\r\n    function octetsCount(bitsNeeded, codePoint) {\r\n      if (bitsNeeded === 6 * 1) {\r\n        return codePoint >> 6 > 15 ? 3 : codePoint > 31 ? 2 : 1;\r\n      }\r\n      if (bitsNeeded === 6 * 2) {\r\n        return codePoint > 15 ? 3 : 2;\r\n      }\r\n      if (bitsNeeded === 6 * 3) {\r\n        return 3;\r\n      }\r\n      throw new Error();\r\n    }\r\n    var REPLACER = 0xFFFD;\r\n    var string = \"\";\r\n    var bitsNeeded = this.bitsNeeded;\r\n    var codePoint = this.codePoint;\r\n    for (var i = 0; i < octets.length; i += 1) {\r\n      var octet = octets[i];\r\n      if (bitsNeeded !== 0) {\r\n        if (octet < 128 || octet > 191 || !valid(codePoint << 6 | octet & 63, bitsNeeded - 6, octetsCount(bitsNeeded, codePoint))) {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n          string += String.fromCharCode(codePoint);\r\n        }\r\n      }\r\n      if (bitsNeeded === 0) {\r\n        if (octet >= 0 && octet <= 127) {\r\n          bitsNeeded = 0;\r\n          codePoint = octet;\r\n        } else if (octet >= 192 && octet <= 223) {\r\n          bitsNeeded = 6 * 1;\r\n          codePoint = octet & 31;\r\n        } else if (octet >= 224 && octet <= 239) {\r\n          bitsNeeded = 6 * 2;\r\n          codePoint = octet & 15;\r\n        } else if (octet >= 240 && octet <= 247) {\r\n          bitsNeeded = 6 * 3;\r\n          codePoint = octet & 7;\r\n        } else {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n        }\r\n        if (bitsNeeded !== 0 && !valid(codePoint, bitsNeeded, octetsCount(bitsNeeded, codePoint))) {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n        }\r\n      } else {\r\n        bitsNeeded -= 6;\r\n        codePoint = codePoint << 6 | octet & 63;\r\n      }\r\n      if (bitsNeeded === 0) {\r\n        if (codePoint <= 0xFFFF) {\r\n          string += String.fromCharCode(codePoint);\r\n        } else {\r\n          string += String.fromCharCode(0xD800 + (codePoint - 0xFFFF - 1 >> 10));\r\n          string += String.fromCharCode(0xDC00 + (codePoint - 0xFFFF - 1 & 0x3FF));\r\n        }\r\n      }\r\n    }\r\n    this.bitsNeeded = bitsNeeded;\r\n    this.codePoint = codePoint;\r\n    return string;\r\n  };\r\n\r\n  // Firefox < 38 throws an error with stream option\r\n  var supportsStreamOption = function () {\r\n    try {\r\n      return new TextDecoder().decode(new TextEncoder().encode(\"test\"), {stream: true}) === \"test\";\r\n    } catch (error) {\r\n      console.debug(\"TextDecoder does not support streaming option. Using polyfill instead: \" + error);\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // IE, Edge\r\n  if (TextDecoder == undefined || TextEncoder == undefined || !supportsStreamOption()) {\r\n    TextDecoder = TextDecoderPolyfill;\r\n  }\r\n\r\n  var k = function () {\r\n  };\r\n\r\n  function XHRWrapper(xhr) {\r\n    this.withCredentials = false;\r\n    this.readyState = 0;\r\n    this.status = 0;\r\n    this.statusText = \"\";\r\n    this.responseText = \"\";\r\n    this.onprogress = k;\r\n    this.onload = k;\r\n    this.onerror = k;\r\n    this.onreadystatechange = k;\r\n    this._contentType = \"\";\r\n    this._xhr = xhr;\r\n    this._sendTimeout = 0;\r\n    this._abort = k;\r\n  }\r\n\r\n  XHRWrapper.prototype.open = function (method, url) {\r\n    this._abort(true);\r\n\r\n    var that = this;\r\n    var xhr = this._xhr;\r\n    var state = 1;\r\n    var timeout = 0;\r\n\r\n    this._abort = function (silent) {\r\n      if (that._sendTimeout !== 0) {\r\n        clearTimeout(that._sendTimeout);\r\n        that._sendTimeout = 0;\r\n      }\r\n      if (state === 1 || state === 2 || state === 3) {\r\n        state = 4;\r\n        xhr.onload = k;\r\n        xhr.onerror = k;\r\n        xhr.onabort = k;\r\n        xhr.onprogress = k;\r\n        xhr.onreadystatechange = k;\r\n        // IE 8 - 9: XDomainRequest#abort() does not fire any event\r\n        // Opera < 10: XMLHttpRequest#abort() does not fire any event\r\n        xhr.abort();\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        if (!silent) {\r\n          that.readyState = 4;\r\n          that.onabort(null);\r\n          that.onreadystatechange();\r\n        }\r\n      }\r\n      state = 0;\r\n    };\r\n\r\n    var onStart = function () {\r\n      if (state === 1) {\r\n        //state = 2;\r\n        var status = 0;\r\n        var statusText = \"\";\r\n        var contentType = undefined;\r\n        if (!(\"contentType\" in xhr)) {\r\n          try {\r\n            status = xhr.status;\r\n            statusText = xhr.statusText;\r\n            contentType = xhr.getResponseHeader(\"Content-Type\");\r\n          } catch (error) {\r\n            // IE < 10 throws exception for `xhr.status` when xhr.readyState === 2 || xhr.readyState === 3\r\n            // Opera < 11 throws exception for `xhr.status` when xhr.readyState === 2\r\n            // https://bugs.webkit.org/show_bug.cgi?id=29121\r\n            status = 0;\r\n            statusText = \"\";\r\n            contentType = undefined;\r\n            // Firefox < 14, Chrome ?, Safari ?\r\n            // https://bugs.webkit.org/show_bug.cgi?id=29658\r\n            // https://bugs.webkit.org/show_bug.cgi?id=77854\r\n          }\r\n        } else {\r\n          status = 200;\r\n          statusText = \"OK\";\r\n          contentType = xhr.contentType;\r\n        }\r\n        if (status !== 0) {\r\n          state = 2;\r\n          that.readyState = 2;\r\n          that.status = status;\r\n          that.statusText = statusText;\r\n          that._contentType = contentType;\r\n          that.onreadystatechange();\r\n        }\r\n      }\r\n    };\r\n    var onProgress = function () {\r\n      onStart();\r\n      if (state === 2 || state === 3) {\r\n        state = 3;\r\n        var responseText = \"\";\r\n        try {\r\n          responseText = xhr.responseText;\r\n        } catch (error) {\r\n          // IE 8 - 9 with XMLHttpRequest\r\n        }\r\n        that.readyState = 3;\r\n        that.responseText = responseText;\r\n        that.onprogress();\r\n      }\r\n    };\r\n    var onFinish = function (type, event) {\r\n      if (event == null || event.preventDefault == null) {\r\n        event = {\r\n          preventDefault: k\r\n        };\r\n      }\r\n      // Firefox 52 fires \"readystatechange\" (xhr.readyState === 4) without final \"readystatechange\" (xhr.readyState === 3)\r\n      // IE 8 fires \"onload\" without \"onprogress\"\r\n      onProgress();\r\n      if (state === 1 || state === 2 || state === 3) {\r\n        state = 4;\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        that.readyState = 4;\r\n        if (type === \"load\") {\r\n          that.onload(event);\r\n        } else if (type === \"error\") {\r\n          that.onerror(event);\r\n        } else if (type === \"abort\") {\r\n          that.onabort(event);\r\n        } else {\r\n          throw new TypeError();\r\n        }\r\n        that.onreadystatechange();\r\n      }\r\n    };\r\n    var onReadyStateChange = function (event) {\r\n      if (xhr != undefined) { // Opera 12\r\n        if (xhr.readyState === 4) {\r\n          if (!(\"onload\" in xhr) || !(\"onerror\" in xhr) || !(\"onabort\" in xhr)) {\r\n            onFinish(xhr.responseText === \"\" ? \"error\" : \"load\", event);\r\n          }\r\n        } else if (xhr.readyState === 3) {\r\n          if (!(\"onprogress\" in xhr)) { // testing XMLHttpRequest#responseText too many times is too slow in IE 11\r\n            // and in Firefox 3.6\r\n            onProgress();\r\n          }\r\n        } else if (xhr.readyState === 2) {\r\n          onStart();\r\n        }\r\n      }\r\n    };\r\n    var onTimeout = function () {\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, 500);\r\n      if (xhr.readyState === 3) {\r\n        onProgress();\r\n      }\r\n    };\r\n\r\n    // XDomainRequest#abort removes onprogress, onerror, onload\r\n    if (\"onload\" in xhr) {\r\n      xhr.onload = function (event) {\r\n        onFinish(\"load\", event);\r\n      };\r\n    }\r\n    if (\"onerror\" in xhr) {\r\n      xhr.onerror = function (event) {\r\n        onFinish(\"error\", event);\r\n      };\r\n    }\r\n    // improper fix to match Firefox behaviour, but it is better than just ignore abort\r\n    // see https://bugzilla.mozilla.org/show_bug.cgi?id=768596\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=880200\r\n    // https://code.google.com/p/chromium/issues/detail?id=153570\r\n    // IE 8 fires \"onload\" without \"onprogress\r\n    if (\"onabort\" in xhr) {\r\n      xhr.onabort = function (event) {\r\n        onFinish(\"abort\", event);\r\n      };\r\n    }\r\n\r\n    if (\"onprogress\" in xhr) {\r\n      xhr.onprogress = onProgress;\r\n    }\r\n\r\n    // IE 8 - 9 (XMLHTTPRequest)\r\n    // Opera < 12\r\n    // Firefox < 3.5\r\n    // Firefox 3.5 - 3.6 - ? < 9.0\r\n    // onprogress is not fired sometimes or delayed\r\n    // see also #64 (significant lag in IE 11)\r\n    if (\"onreadystatechange\" in xhr) {\r\n      xhr.onreadystatechange = function (event) {\r\n        onReadyStateChange(event);\r\n      };\r\n    }\r\n\r\n    if (\"contentType\" in xhr || !(\"ontimeout\" in XMLHttpRequest.prototype)) {\r\n      url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + \"padding=true\";\r\n    }\r\n    xhr.open(method, url, true);\r\n\r\n    if (\"readyState\" in xhr) {\r\n      // workaround for Opera 12 issue with \"progress\" events\r\n      // #91 (XMLHttpRequest onprogress not fired for streaming response in Edge 14-15-?)\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, 0);\r\n    }\r\n  };\r\n  XHRWrapper.prototype.abort = function () {\r\n    this._abort(false);\r\n  };\r\n  XHRWrapper.prototype.getResponseHeader = function (name) {\r\n    return this._contentType;\r\n  };\r\n  XHRWrapper.prototype.setRequestHeader = function (name, value) {\r\n    var xhr = this._xhr;\r\n    if (\"setRequestHeader\" in xhr) {\r\n      xhr.setRequestHeader(name, value);\r\n    }\r\n  };\r\n  XHRWrapper.prototype.getAllResponseHeaders = function () {\r\n    // XMLHttpRequest#getAllResponseHeaders returns null for CORS requests in Firefox 3.6.28\r\n    return this._xhr.getAllResponseHeaders != undefined ? this._xhr.getAllResponseHeaders() || \"\" : \"\";\r\n  };\r\n  XHRWrapper.prototype.send = function () {\r\n    // loading indicator in Safari < ? (6), Chrome < 14, Firefox\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=736723\r\n    if ((!(\"ontimeout\" in XMLHttpRequest.prototype) || (!(\"sendAsBinary\" in XMLHttpRequest.prototype) && !(\"mozAnon\" in XMLHttpRequest.prototype))) &&\r\n        document != undefined &&\r\n        document.readyState != undefined &&\r\n        document.readyState !== \"complete\") {\r\n      var that = this;\r\n      that._sendTimeout = setTimeout(function () {\r\n        that._sendTimeout = 0;\r\n        that.send();\r\n      }, 4);\r\n      return;\r\n    }\r\n\r\n    var xhr = this._xhr;\r\n    // withCredentials should be set after \"open\" for Safari and Chrome (< 19 ?)\r\n    if (\"withCredentials\" in xhr) {\r\n      xhr.withCredentials = this.withCredentials;\r\n    }\r\n    try {\r\n      // xhr.send(); throws \"Not enough arguments\" in Firefox 3.0\r\n      xhr.send(undefined);\r\n    } catch (error1) {\r\n      // Safari 5.1.7, Opera 12\r\n      throw error1;\r\n    }\r\n  };\r\n\r\n  function toLowerCase(name) {\r\n    return name.replace(/[A-Z]/g, function (c) {\r\n      return String.fromCharCode(c.charCodeAt(0) + 0x20);\r\n    });\r\n  }\r\n\r\n  function HeadersPolyfill(all) {\r\n    // Get headers: implemented according to mozilla's example code: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\r\n    var map = Object.create(null);\r\n    var array = all.split(\"\\r\\n\");\r\n    for (var i = 0; i < array.length; i += 1) {\r\n      var line = array[i];\r\n      var parts = line.split(\": \");\r\n      var name = parts.shift();\r\n      var value = parts.join(\": \");\r\n      map[toLowerCase(name)] = value;\r\n    }\r\n    this._map = map;\r\n  }\r\n  HeadersPolyfill.prototype.get = function (name) {\r\n    return this._map[toLowerCase(name)];\r\n  };\r\n\r\n  if (XMLHttpRequest != null && XMLHttpRequest.HEADERS_RECEIVED == null) { // IE < 9, Firefox 3.6\r\n    XMLHttpRequest.HEADERS_RECEIVED = 2;\r\n  }\r\n\r\n  function XHRTransport() {\r\n  }\r\n\r\n  XHRTransport.prototype.open = function (xhr, onStartCallback, onProgressCallback, onFinishCallback, url, withCredentials, headers) {\r\n    xhr.open(\"GET\", url);\r\n    var offset = 0;\r\n    xhr.onprogress = function () {\r\n      var responseText = xhr.responseText;\r\n      var chunk = responseText.slice(offset);\r\n      offset += chunk.length;\r\n      onProgressCallback(chunk);\r\n    };\r\n    xhr.onerror = function (event) {\r\n      event.preventDefault();\r\n      onFinishCallback(new Error(\"NetworkError\"));\r\n    };\r\n    xhr.onload = function () {\r\n      onFinishCallback(null);\r\n    };\r\n    xhr.onabort = function () {\r\n      onFinishCallback(null);\r\n    };\r\n    xhr.onreadystatechange = function () {\r\n      if (xhr.readyState === XMLHttpRequest.HEADERS_RECEIVED) {\r\n        var status = xhr.status;\r\n        var statusText = xhr.statusText;\r\n        var contentType = xhr.getResponseHeader(\"Content-Type\");\r\n        var headers = xhr.getAllResponseHeaders();\r\n        onStartCallback(status, statusText, contentType, new HeadersPolyfill(headers));\r\n      }\r\n    };\r\n    xhr.withCredentials = withCredentials;\r\n    for (var name in headers) {\r\n      if (Object.prototype.hasOwnProperty.call(headers, name)) {\r\n        xhr.setRequestHeader(name, headers[name]);\r\n      }\r\n    }\r\n    xhr.send();\r\n    return xhr;\r\n  };\r\n\r\n  function HeadersWrapper(headers) {\r\n    this._headers = headers;\r\n  }\r\n  HeadersWrapper.prototype.get = function (name) {\r\n    return this._headers.get(name);\r\n  };\r\n\r\n  function FetchTransport() {\r\n  }\r\n\r\n  FetchTransport.prototype.open = function (xhr, onStartCallback, onProgressCallback, onFinishCallback, url, withCredentials, headers) {\r\n    var reader = null;\r\n    var controller = new AbortController();\r\n    var signal = controller.signal;\r\n    var textDecoder = new TextDecoder();\r\n    fetch(url, {\r\n      headers: headers,\r\n      credentials: withCredentials ? \"include\" : \"same-origin\",\r\n      signal: signal,\r\n      cache: \"no-store\"\r\n    }).then(function (response) {\r\n      reader = response.body.getReader();\r\n      onStartCallback(response.status, response.statusText, response.headers.get(\"Content-Type\"), new HeadersWrapper(response.headers));\r\n      // see https://github.com/promises-aplus/promises-spec/issues/179\r\n      return new Promise(function (resolve, reject) {\r\n        var readNextChunk = function () {\r\n          reader.read().then(function (result) {\r\n            if (result.done) {\r\n              //Note: bytes in textDecoder are ignored\r\n              resolve(undefined);\r\n            } else {\r\n              var chunk = textDecoder.decode(result.value, {stream: true});\r\n              onProgressCallback(chunk);\r\n              readNextChunk();\r\n            }\r\n          })[\"catch\"](function (error) {\r\n            reject(error);\r\n          });\r\n        };\r\n        readNextChunk();\r\n      });\r\n    })[\"catch\"](function (error) {\r\n      if (error.name === \"AbortError\") {\r\n        return undefined;\r\n      } else {\r\n        return error;\r\n      }\r\n    }).then(function (error) {\r\n      onFinishCallback(error);\r\n    });\r\n    return {\r\n      abort: function () {\r\n        if (reader != null) {\r\n          reader.cancel(); // https://bugzilla.mozilla.org/show_bug.cgi?id=1583815\r\n        }\r\n        controller.abort();\r\n      }\r\n    };\r\n  };\r\n\r\n  function EventTarget() {\r\n    this._listeners = Object.create(null);\r\n  }\r\n\r\n  function throwError(e) {\r\n    setTimeout(function () {\r\n      throw e;\r\n    }, 0);\r\n  }\r\n\r\n  EventTarget.prototype.dispatchEvent = function (event) {\r\n    event.target = this;\r\n    var typeListeners = this._listeners[event.type];\r\n    if (typeListeners != undefined) {\r\n      var length = typeListeners.length;\r\n      for (var i = 0; i < length; i += 1) {\r\n        var listener = typeListeners[i];\r\n        try {\r\n          if (typeof listener.handleEvent === \"function\") {\r\n            listener.handleEvent(event);\r\n          } else {\r\n            listener.call(this, event);\r\n          }\r\n        } catch (e) {\r\n          throwError(e);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  EventTarget.prototype.addEventListener = function (type, listener) {\r\n    type = String(type);\r\n    var listeners = this._listeners;\r\n    var typeListeners = listeners[type];\r\n    if (typeListeners == undefined) {\r\n      typeListeners = [];\r\n      listeners[type] = typeListeners;\r\n    }\r\n    var found = false;\r\n    for (var i = 0; i < typeListeners.length; i += 1) {\r\n      if (typeListeners[i] === listener) {\r\n        found = true;\r\n      }\r\n    }\r\n    if (!found) {\r\n      typeListeners.push(listener);\r\n    }\r\n  };\r\n  EventTarget.prototype.removeEventListener = function (type, listener) {\r\n    type = String(type);\r\n    var listeners = this._listeners;\r\n    var typeListeners = listeners[type];\r\n    if (typeListeners != undefined) {\r\n      var filtered = [];\r\n      for (var i = 0; i < typeListeners.length; i += 1) {\r\n        if (typeListeners[i] !== listener) {\r\n          filtered.push(typeListeners[i]);\r\n        }\r\n      }\r\n      if (filtered.length === 0) {\r\n        delete listeners[type];\r\n      } else {\r\n        listeners[type] = filtered;\r\n      }\r\n    }\r\n  };\r\n\r\n  function Event(type) {\r\n    this.type = type;\r\n    this.target = undefined;\r\n  }\r\n\r\n  function MessageEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.data = options.data;\r\n    this.lastEventId = options.lastEventId;\r\n  }\r\n\r\n  MessageEvent.prototype = Object.create(Event.prototype);\r\n\r\n  function ConnectionEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.status = options.status;\r\n    this.statusText = options.statusText;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  ConnectionEvent.prototype = Object.create(Event.prototype);\r\n\r\n  function ErrorEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.error = options.error;\r\n  }\r\n\r\n  ErrorEvent.prototype = Object.create(Event.prototype);\r\n\r\n  var WAITING = -1;\r\n  var CONNECTING = 0;\r\n  var OPEN = 1;\r\n  var CLOSED = 2;\r\n\r\n  var AFTER_CR = -1;\r\n  var FIELD_START = 0;\r\n  var FIELD = 1;\r\n  var VALUE_START = 2;\r\n  var VALUE = 3;\r\n\r\n  var contentTypeRegExp = /^text\\/event\\-stream(;.*)?$/i;\r\n\r\n  var MINIMUM_DURATION = 1000;\r\n  var MAXIMUM_DURATION = 18000000;\r\n\r\n  var parseDuration = function (value, def) {\r\n    var n = value == null ? def : parseInt(value, 10);\r\n    if (n !== n) {\r\n      n = def;\r\n    }\r\n    return clampDuration(n);\r\n  };\r\n  var clampDuration = function (n) {\r\n    return Math.min(Math.max(n, MINIMUM_DURATION), MAXIMUM_DURATION);\r\n  };\r\n\r\n  var fire = function (that, f, event) {\r\n    try {\r\n      if (typeof f === \"function\") {\r\n        f.call(that, event);\r\n      }\r\n    } catch (e) {\r\n      throwError(e);\r\n    }\r\n  };\r\n\r\n  function EventSourcePolyfill(url, options) {\r\n    EventTarget.call(this);\r\n    options = options || {};\r\n\r\n    this.onopen = undefined;\r\n    this.onmessage = undefined;\r\n    this.onerror = undefined;\r\n\r\n    this.url = undefined;\r\n    this.readyState = undefined;\r\n    this.withCredentials = undefined;\r\n    this.headers = undefined;\r\n\r\n    this._close = undefined;\r\n\r\n    start(this, url, options);\r\n  }\r\n\r\n  function getBestXHRTransport() {\r\n    return (XMLHttpRequest != undefined && (\"withCredentials\" in XMLHttpRequest.prototype)) || XDomainRequest == undefined\r\n        ? new XMLHttpRequest()\r\n        : new XDomainRequest();\r\n  }\r\n\r\n  var isFetchSupported = fetch != undefined && Response != undefined && \"body\" in Response.prototype;\r\n\r\n  function start(es, url, options) {\r\n    url = String(url);\r\n    var withCredentials = Boolean(options.withCredentials);\r\n    var lastEventIdQueryParameterName = options.lastEventIdQueryParameterName || \"lastEventId\";\r\n\r\n    var initialRetry = clampDuration(1000);\r\n    var heartbeatTimeout = parseDuration(options.heartbeatTimeout, 45000);\r\n\r\n    var lastEventId = \"\";\r\n    var retry = initialRetry;\r\n    var wasActivity = false;\r\n    var textLength = 0;\r\n    var headers = options.headers || {};\r\n    var TransportOption = options.Transport;\r\n    var xhr = isFetchSupported && TransportOption == undefined ? undefined : new XHRWrapper(TransportOption != undefined ? new TransportOption() : getBestXHRTransport());\r\n    var transport = TransportOption != null && typeof TransportOption !== \"string\" ? new TransportOption() : (xhr == undefined ? new FetchTransport() : new XHRTransport());\r\n    var abortController = undefined;\r\n    var timeout = 0;\r\n    var currentState = WAITING;\r\n    var dataBuffer = \"\";\r\n    var lastEventIdBuffer = \"\";\r\n    var eventTypeBuffer = \"\";\r\n\r\n    var textBuffer = \"\";\r\n    var state = FIELD_START;\r\n    var fieldStart = 0;\r\n    var valueStart = 0;\r\n\r\n    var onStart = function (status, statusText, contentType, headers) {\r\n      if (currentState === CONNECTING) {\r\n        if (status === 200 && contentType != undefined && contentTypeRegExp.test(contentType)) {\r\n          currentState = OPEN;\r\n          wasActivity = Date.now();\r\n          retry = initialRetry;\r\n          es.readyState = OPEN;\r\n          var event = new ConnectionEvent(\"open\", {\r\n            status: status,\r\n            statusText: statusText,\r\n            headers: headers\r\n          });\r\n          es.dispatchEvent(event);\r\n          fire(es, es.onopen, event);\r\n        } else {\r\n          var message = \"\";\r\n          if (status !== 200) {\r\n            if (statusText) {\r\n              statusText = statusText.replace(/\\s+/g, \" \");\r\n            }\r\n            message = \"EventSource's response has a status \" + status + \" \" + statusText + \" that is not 200. Aborting the connection.\";\r\n          } else {\r\n            message = \"EventSource's response has a Content-Type specifying an unsupported type: \" + (contentType == undefined ? \"-\" : contentType.replace(/\\s+/g, \" \")) + \". Aborting the connection.\";\r\n          }\r\n          close();\r\n          var event = new ConnectionEvent(\"error\", {\r\n            status: status,\r\n            statusText: statusText,\r\n            headers: headers\r\n          });\r\n          es.dispatchEvent(event);\r\n          fire(es, es.onerror, event);\r\n          console.error(message);\r\n        }\r\n      }\r\n    };\r\n\r\n    var onProgress = function (textChunk) {\r\n      if (currentState === OPEN) {\r\n        var n = -1;\r\n        for (var i = 0; i < textChunk.length; i += 1) {\r\n          var c = textChunk.charCodeAt(i);\r\n          if (c === \"\\n\".charCodeAt(0) || c === \"\\r\".charCodeAt(0)) {\r\n            n = i;\r\n          }\r\n        }\r\n        var chunk = (n !== -1 ? textBuffer : \"\") + textChunk.slice(0, n + 1);\r\n        textBuffer = (n === -1 ? textBuffer : \"\") + textChunk.slice(n + 1);\r\n        if (textChunk !== \"\") {\r\n          wasActivity = Date.now();\r\n          textLength += textChunk.length;\r\n        }\r\n        for (var position = 0; position < chunk.length; position += 1) {\r\n          var c = chunk.charCodeAt(position);\r\n          if (state === AFTER_CR && c === \"\\n\".charCodeAt(0)) {\r\n            state = FIELD_START;\r\n          } else {\r\n            if (state === AFTER_CR) {\r\n              state = FIELD_START;\r\n            }\r\n            if (c === \"\\r\".charCodeAt(0) || c === \"\\n\".charCodeAt(0)) {\r\n              if (state !== FIELD_START) {\r\n                if (state === FIELD) {\r\n                  valueStart = position + 1;\r\n                }\r\n                var field = chunk.slice(fieldStart, valueStart - 1);\r\n                var value = chunk.slice(valueStart + (valueStart < position && chunk.charCodeAt(valueStart) === \" \".charCodeAt(0) ? 1 : 0), position);\r\n                if (field === \"data\") {\r\n                  dataBuffer += \"\\n\";\r\n                  dataBuffer += value;\r\n                } else if (field === \"id\") {\r\n                  lastEventIdBuffer = value;\r\n                } else if (field === \"event\") {\r\n                  eventTypeBuffer = value;\r\n                } else if (field === \"retry\") {\r\n                  initialRetry = parseDuration(value, initialRetry);\r\n                  retry = initialRetry;\r\n                } else if (field === \"heartbeatTimeout\") {\r\n                  heartbeatTimeout = parseDuration(value, heartbeatTimeout);\r\n                  if (timeout !== 0) {\r\n                    clearTimeout(timeout);\r\n                    timeout = setTimeout(function () {\r\n                      onTimeout();\r\n                    }, heartbeatTimeout);\r\n                  }\r\n                }\r\n              }\r\n              if (state === FIELD_START) {\r\n                if (dataBuffer !== \"\") {\r\n                  lastEventId = lastEventIdBuffer;\r\n                  if (eventTypeBuffer === \"\") {\r\n                    eventTypeBuffer = \"message\";\r\n                  }\r\n                  var event = new MessageEvent(eventTypeBuffer, {\r\n                    data: dataBuffer.slice(1),\r\n                    lastEventId: lastEventIdBuffer\r\n                  });\r\n                  es.dispatchEvent(event);\r\n                  if (eventTypeBuffer === \"open\") {\r\n                    fire(es, es.onopen, event);\r\n                  } else if (eventTypeBuffer === \"message\") {\r\n                    fire(es, es.onmessage, event);\r\n                  } else if (eventTypeBuffer === \"error\") {\r\n                    fire(es, es.onerror, event);\r\n                  }\r\n                  if (currentState === CLOSED) {\r\n                    return;\r\n                  }\r\n                }\r\n                dataBuffer = \"\";\r\n                eventTypeBuffer = \"\";\r\n              }\r\n              state = c === \"\\r\".charCodeAt(0) ? AFTER_CR : FIELD_START;\r\n            } else {\r\n              if (state === FIELD_START) {\r\n                fieldStart = position;\r\n                state = FIELD;\r\n              }\r\n              if (state === FIELD) {\r\n                if (c === \":\".charCodeAt(0)) {\r\n                  valueStart = position + 1;\r\n                  state = VALUE_START;\r\n                }\r\n              } else if (state === VALUE_START) {\r\n                state = VALUE;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    var onFinish = function (error) {\r\n      if (currentState === OPEN || currentState === CONNECTING) {\r\n        currentState = WAITING;\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        timeout = setTimeout(function () {\r\n          onTimeout();\r\n        }, retry);\r\n        retry = clampDuration(Math.min(initialRetry * 16, retry * 2));\r\n\r\n        es.readyState = CONNECTING;\r\n        var event = new ErrorEvent(\"error\", {error: error});\r\n        es.dispatchEvent(event);\r\n        fire(es, es.onerror, event);\r\n        if (error != undefined) {\r\n          console.error(error);\r\n        }\r\n      }\r\n    };\r\n\r\n    var close = function () {\r\n      currentState = CLOSED;\r\n      if (abortController != undefined) {\r\n        abortController.abort();\r\n        abortController = undefined;\r\n      }\r\n      if (timeout !== 0) {\r\n        clearTimeout(timeout);\r\n        timeout = 0;\r\n      }\r\n      es.readyState = CLOSED;\r\n    };\r\n\r\n    var onTimeout = function () {\r\n      timeout = 0;\r\n\r\n      if (currentState !== WAITING) {\r\n        if (!wasActivity && abortController != undefined) {\r\n          onFinish(new Error(\"No activity within \" + heartbeatTimeout + \" milliseconds.\" + \" \" + (currentState === CONNECTING ? \"No response received.\" : textLength + \" chars received.\") + \" \" + \"Reconnecting.\"));\r\n          if (abortController != undefined) {\r\n            abortController.abort();\r\n            abortController = undefined;\r\n          }\r\n        } else {\r\n          var nextHeartbeat = Math.max((wasActivity || Date.now()) + heartbeatTimeout - Date.now(), 1);\r\n          wasActivity = false;\r\n          timeout = setTimeout(function () {\r\n            onTimeout();\r\n          }, nextHeartbeat);\r\n        }\r\n        return;\r\n      }\r\n\r\n      wasActivity = false;\r\n      textLength = 0;\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, heartbeatTimeout);\r\n\r\n      currentState = CONNECTING;\r\n      dataBuffer = \"\";\r\n      eventTypeBuffer = \"\";\r\n      lastEventIdBuffer = lastEventId;\r\n      textBuffer = \"\";\r\n      fieldStart = 0;\r\n      valueStart = 0;\r\n      state = FIELD_START;\r\n\r\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=428916\r\n      // Request header field Last-Event-ID is not allowed by Access-Control-Allow-Headers.\r\n      var requestURL = url;\r\n      if (url.slice(0, 5) !== \"data:\" && url.slice(0, 5) !== \"blob:\") {\r\n        if (lastEventId !== \"\") {\r\n          // Remove the lastEventId parameter if it's already part of the request URL.\r\n          var i = url.indexOf(\"?\");\r\n          requestURL = i === -1 ? url : url.slice(0, i + 1) + url.slice(i + 1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g, function (p, paramName) {\r\n            return paramName === lastEventIdQueryParameterName ? '' : p;\r\n          });\r\n          // Append the current lastEventId to the request URL.\r\n          requestURL += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + lastEventIdQueryParameterName +\"=\" + encodeURIComponent(lastEventId);\r\n        }\r\n      }\r\n      var withCredentials = es.withCredentials;\r\n      var requestHeaders = {};\r\n      requestHeaders[\"Accept\"] = \"text/event-stream\";\r\n      var headers = es.headers;\r\n      if (headers != undefined) {\r\n        for (var name in headers) {\r\n          if (Object.prototype.hasOwnProperty.call(headers, name)) {\r\n            requestHeaders[name] = headers[name];\r\n          }\r\n        }\r\n      }\r\n      try {\r\n        abortController = transport.open(xhr, onStart, onProgress, onFinish, requestURL, withCredentials, requestHeaders);\r\n      } catch (error) {\r\n        close();\r\n        throw error;\r\n      }\r\n    };\r\n\r\n    es.url = url;\r\n    es.readyState = CONNECTING;\r\n    es.withCredentials = withCredentials;\r\n    es.headers = headers;\r\n    es._close = close;\r\n\r\n    onTimeout();\r\n  }\r\n\r\n  EventSourcePolyfill.prototype = Object.create(EventTarget.prototype);\r\n  EventSourcePolyfill.prototype.CONNECTING = CONNECTING;\r\n  EventSourcePolyfill.prototype.OPEN = OPEN;\r\n  EventSourcePolyfill.prototype.CLOSED = CLOSED;\r\n  EventSourcePolyfill.prototype.close = function () {\r\n    this._close();\r\n  };\r\n\r\n  EventSourcePolyfill.CONNECTING = CONNECTING;\r\n  EventSourcePolyfill.OPEN = OPEN;\r\n  EventSourcePolyfill.CLOSED = CLOSED;\r\n  EventSourcePolyfill.prototype.withCredentials = undefined;\r\n\r\n  var R = NativeEventSource\r\n  if (XMLHttpRequest != undefined && (NativeEventSource == undefined || !(\"withCredentials\" in NativeEventSource.prototype))) {\r\n    // Why replace a native EventSource ?\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=444328\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=831392\r\n    // https://code.google.com/p/chromium/issues/detail?id=260144\r\n    // https://code.google.com/p/chromium/issues/detail?id=225654\r\n    // ...\r\n    R = EventSourcePolyfill;\r\n  }\r\n\r\n  (function (factory) {\r\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n      var v = factory(exports);\r\n      if (v !== undefined) module.exports = v;\r\n    }\r\n    else if (typeof define === \"function\" && define.amd) {\r\n      define([\"exports\"], factory);\r\n    }\r\n    else {\r\n      factory(global);\r\n    }\r\n  })(function (exports) {\r\n    exports.EventSourcePolyfill = EventSourcePolyfill;\r\n    exports.NativeEventSource = NativeEventSource;\r\n    exports.EventSource = R;\r\n  });\r\n}(typeof globalThis === 'undefined' ? (typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : this) : globalThis));\r\n","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar validators = require('../validators');\n\nvar Patch = require('./patch');\n\nvar defaultMutateOptions = {\n  returnDocuments: false\n};\n\nfunction Transaction() {\n  var operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var client = arguments.length > 1 ? arguments[1] : undefined;\n  var transactionId = arguments.length > 2 ? arguments[2] : undefined;\n  this.trxId = transactionId;\n  this.operations = operations;\n  this.client = client;\n}\n\nassign(Transaction.prototype, {\n  clone: function clone() {\n    return new Transaction(this.operations.slice(0), this.client, this.trxId);\n  },\n  create: function create(doc) {\n    validators.validateObject('create', doc);\n    return this._add({\n      create: doc\n    });\n  },\n  createIfNotExists: function createIfNotExists(doc) {\n    var op = 'createIfNotExists';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  createOrReplace: function createOrReplace(doc) {\n    var op = 'createOrReplace';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  delete: function _delete(documentId) {\n    validators.validateDocumentId('delete', documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  },\n  patch: function patch(documentId, patchOps) {\n    var isBuilder = typeof patchOps === 'function';\n    var isPatch = documentId instanceof Patch; // transaction.patch(client.patch('documentId').inc({visits: 1}))\n\n    if (isPatch) {\n      return this._add({\n        patch: documentId.serialize()\n      });\n    } // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n\n\n    if (isBuilder) {\n      var patch = patchOps(new Patch(documentId, {}, this.client));\n\n      if (!(patch instanceof Patch)) {\n        throw new Error('function passed to `patch()` must return the patch');\n      }\n\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n\n    return this._add({\n      patch: assign({\n        id: documentId\n      }, patchOps)\n    });\n  },\n  transactionId: function transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n\n    this.trxId = id;\n    return this;\n  },\n  serialize: function serialize() {\n    return this.operations.slice();\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit(options) {\n    if (!this.client) {\n      throw new Error('No `client` passed to transaction, either provide one or pass the ' + 'transaction to a clients `mutate()` method');\n    }\n\n    return this.client.mutate(this.serialize(), assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  },\n  reset: function reset() {\n    this.operations = [];\n    return this;\n  },\n  _add: function _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n});\nmodule.exports = Transaction;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexports.config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = new Error();\n            console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map","\"use strict\";\n\nmodule.exports = require('./node-request');\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nmodule.exports = function (fn) {\n  var didCall = false;\n  var returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n\n    returnValue = fn.apply(void 0, arguments);\n    didCall = true;\n    return returnValue;\n  };\n};","\"use strict\";\n\nmodule.exports = function (middleware) {\n  var applyMiddleware = function applyMiddleware(hook, defaultValue) {\n    var bailEarly = hook === 'onError';\n    var value = defaultValue;\n\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    for (var i = 0; i < middleware[hook].length; i++) {\n      var handler = middleware[hook][i];\n      value = handler.apply(void 0, [value].concat(args));\n\n      if (bailEarly && !value) {\n        break;\n      }\n    }\n\n    return value;\n  };\n\n  return applyMiddleware;\n};\n//# sourceMappingURL=middlewareReducer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rxSubscriber = (function () {\n    return typeof Symbol === 'function'\n        ? Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + Math.random();\n})();\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    map = _require.map,\n    filter = _require.filter;\n\nvar validators = require('../validators');\n\nvar getSelection = require('../util/getSelection');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar Transaction = require('./transaction');\n\nvar Patch = require('./patch');\n\nvar listen = require('./listen');\n\nvar excludeFalsey = function excludeFalsey(param, defValue) {\n  var value = typeof param === 'undefined' ? defValue : param;\n  return param === false ? undefined : value;\n};\n\nvar getMutationQuery = function getMutationQuery() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    dryRun: options.dryRun,\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || 'sync',\n    autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n    skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n  };\n};\n\nvar isResponse = function isResponse(event) {\n  return event.type === 'response';\n};\n\nvar getBody = function getBody(event) {\n  return event.body;\n};\n\nvar indexBy = function indexBy(docs, attr) {\n  return docs.reduce(function (indexed, doc) {\n    indexed[attr(doc)] = doc;\n    return indexed;\n  }, Object.create(null));\n};\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nvar getQuerySizeLimit = 11264;\nmodule.exports = {\n  listen: listen,\n  getDataUrl: function getDataUrl(operation, path) {\n    var config = this.clientConfig;\n    var catalog = validators.hasDataset(config);\n    var baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    var uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return \"/data\".concat(uri).replace(/\\/($|\\?)/, '$1');\n  },\n  fetch: function fetch(query, params) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mapResponse = options.filterResponse === false ? function (res) {\n      return res;\n    } : function (res) {\n      return res.result;\n    };\n\n    var observable = this._dataRequest('query', {\n      query: query,\n      params: params\n    }, options).pipe(map(mapResponse));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocument: function getDocument(id) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = {\n      uri: this.getDataUrl('doc', id),\n      json: true,\n      tag: opts.tag\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      return event.body.documents && event.body.documents[0];\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocuments: function getDocuments(ids) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = {\n      uri: this.getDataUrl('doc', ids.join(',')),\n      json: true,\n      tag: opts.tag\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      var indexed = indexBy(event.body.documents || [], function (doc) {\n        return doc._id;\n      });\n      return ids.map(function (id) {\n        return indexed[id] || null;\n      });\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  create: function create(doc, options) {\n    return this._create(doc, 'create', options);\n  },\n  createIfNotExists: function createIfNotExists(doc, options) {\n    validators.requireDocumentId('createIfNotExists', doc);\n    return this._create(doc, 'createIfNotExists', options);\n  },\n  createOrReplace: function createOrReplace(doc, options) {\n    validators.requireDocumentId('createOrReplace', doc);\n    return this._create(doc, 'createOrReplace', options);\n  },\n  patch: function patch(selector, operations) {\n    return new Patch(selector, operations, this);\n  },\n  delete: function _delete(selection, options) {\n    return this.dataRequest('mutate', {\n      mutations: [{\n        delete: getSelection(selection)\n      }]\n    }, options);\n  },\n  mutate: function mutate(mutations, options) {\n    var mut = mutations instanceof Patch || mutations instanceof Transaction ? mutations.serialize() : mutations;\n    var muts = Array.isArray(mut) ? mut : [mut];\n    var transactionId = options && options.transactionId;\n    return this.dataRequest('mutate', {\n      mutations: muts,\n      transactionId: transactionId\n    }, options);\n  },\n  transaction: function transaction(operations) {\n    return new Transaction(operations, this);\n  },\n  dataRequest: function dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var request = this._dataRequest(endpoint, body, options);\n\n    return this.isPromiseAPI() ? toPromise(request) : request;\n  },\n  _dataRequest: function _dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var isMutation = endpoint === 'mutate';\n    var isQuery = endpoint === 'query'; // Check if the query string is within a configured threshold,\n    // in which case we can use GET. Otherwise, use POST.\n\n    var strQuery = !isMutation && encodeQueryString(body);\n    var useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    var stringQuery = useGet ? strQuery : '';\n    var returnFirst = options.returnFirst;\n    var timeout = options.timeout,\n        token = options.token,\n        tag = options.tag,\n        headers = options.headers;\n    var uri = this.getDataUrl(endpoint, stringQuery);\n    var reqOptions = {\n      method: useGet ? 'GET' : 'POST',\n      uri: uri,\n      json: true,\n      body: useGet ? undefined : body,\n      query: isMutation && getMutationQuery(options),\n      timeout: timeout,\n      headers: headers,\n      token: token,\n      tag: tag,\n      canUseCdn: isQuery\n    };\n    return this._requestObservable(reqOptions).pipe(filter(isResponse), map(getBody), map(function (res) {\n      if (!isMutation) {\n        return res;\n      } // Should we return documents?\n\n\n      var results = res.results || [];\n\n      if (options.returnDocuments) {\n        return returnFirst ? results[0] && results[0].document : results.map(function (mut) {\n          return mut.document;\n        });\n      } // Return a reduced subset\n\n\n      var key = returnFirst ? 'documentId' : 'documentIds';\n      var ids = returnFirst ? results[0] && results[0].id : results.map(function (mut) {\n        return mut.id;\n      });\n      return _defineProperty({\n        transactionId: res.transactionId,\n        results: results\n      }, key, ids);\n    }));\n  },\n  _create: function _create(doc, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var mutation = _defineProperty({}, op, doc);\n\n    var opts = assign({\n      returnFirst: true,\n      returnDocuments: true\n    }, options);\n    return this.dataRequest('mutate', {\n      mutations: [mutation]\n    }, opts);\n  }\n};","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map","\"use strict\";\n\nmodule.exports = function (obj, defaults) {\n  return Object.keys(defaults).concat(Object.keys(obj)).reduce(function (target, prop) {\n    target[prop] = typeof obj[prop] === 'undefined' ? defaults[prop] : obj[prop];\n    return target;\n  }, {});\n};","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction AuthClient(client) {\n  this.client = client;\n}\n\nassign(AuthClient.prototype, {\n  getLoginProviders: function getLoginProviders() {\n    return this.client.request({\n      uri: '/auth/providers'\n    });\n  },\n  logout: function logout() {\n    return this.client.request({\n      uri: '/auth/logout',\n      method: 'POST'\n    });\n  }\n});\nmodule.exports = AuthClient;","module.exports = require('./lib-node')\n","\"use strict\";\n\n/* eslint-disable no-empty-function, no-process-env */\nvar getIt = require('get-it');\n\nvar assign = require('object-assign');\n\nvar observable = require('get-it/lib/middleware/observable');\n\nvar jsonRequest = require('get-it/lib/middleware/jsonRequest');\n\nvar jsonResponse = require('get-it/lib/middleware/jsonResponse');\n\nvar progress = require('get-it/lib/middleware/progress');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar _require2 = require('./errors'),\n    ClientError = _require2.ClientError,\n    ServerError = _require2.ServerError;\n\nvar httpError = {\n  onResponse: function onResponse(res) {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n\n    return res;\n  }\n};\nvar printWarnings = {\n  onResponse: function onResponse(res) {\n    var warn = res.headers['x-sanity-warning'];\n    var warnings = Array.isArray(warn) ? warn : [warn];\n    warnings.filter(Boolean).forEach(function (msg) {\n      return console.warn(msg);\n    }); // eslint-disable-line no-console\n\n    return res;\n  }\n}; // Environment-specific middleware.\n\nvar envSpecific = require('./nodeMiddleware');\n\nvar middleware = envSpecific.concat([printWarnings, jsonRequest(), jsonResponse(), progress(), httpError, observable({\n  implementation: Observable\n})]);\nvar request = getIt(middleware);\n\nfunction httpRequest(options) {\n  var requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n  return requester(assign({\n    maxRedirects: 0\n  }, options));\n}\n\nhttpRequest.defaultRequester = request;\nhttpRequest.ClientError = ClientError;\nhttpRequest.ServerError = ServerError;\nmodule.exports = httpRequest;","\"use strict\";\n\nvar _excluded = [\"tag\"];\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar enc = encodeURIComponent;\n\nmodule.exports = function (_ref) {\n  var query = _ref.query,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n\n  // We generally want tag at the start of the query string\n  var tag = options.tag,\n      opts = _objectWithoutProperties(options, _excluded);\n\n  var q = \"query=\".concat(enc(query));\n  var base = tag ? \"?tag=\".concat(enc(tag), \"&\").concat(q) : \"?\".concat(q);\n  var qString = Object.keys(params).reduce(function (qs, param) {\n    return \"\".concat(qs, \"&\").concat(enc(\"$\".concat(param)), \"=\").concat(enc(JSON.stringify(params[param])));\n  }, base);\n  return Object.keys(opts).reduce(function (qs, option) {\n    // Only include the option if it is truthy\n    return options[option] ? \"\".concat(qs, \"&\").concat(enc(option), \"=\").concat(enc(options[option])) : qs;\n  }, qString);\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n//# sourceMappingURL=identity.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber_1.Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\nexports.canReportError = canReportError;\n//# sourceMappingURL=canReportError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray_1 = require(\"./util/isArray\");\nvar isObject_1 = require(\"./util/isObject\");\nvar isFunction_1 = require(\"./util/isFunction\");\nvar UnsubscriptionError_1 = require(\"./util/UnsubscriptionError\");\nvar Subscription = (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._ctorUnsubscribe = true;\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            if (_ctorUnsubscribe) {\n                this._unsubscribe = undefined;\n            }\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.observable = (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","\"use strict\";\n\nmodule.exports = require('./node-progress');\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    map = _require.map,\n    filter = _require.filter;\n\nvar queryString = require('../http/queryString');\n\nvar validators = require('../validators');\n\nfunction AssetsClient(client) {\n  this.client = client;\n}\n\nfunction optionsFromFile(opts, file) {\n  if (typeof window === 'undefined' || !(file instanceof window.File)) {\n    return opts;\n  }\n\n  return assign({\n    filename: opts.preserveFilename === false ? undefined : file.name,\n    contentType: file.type\n  }, opts);\n}\n\nassign(AssetsClient.prototype, {\n  /**\n   * Upload an asset\n   *\n   * @param  {String} assetType `image` or `file`\n   * @param  {File|Blob|Buffer|ReadableStream} body File to upload\n   * @param  {Object}  opts Options for the upload\n   * @param  {Boolean} opts.preserveFilename Whether or not to preserve the original filename (default: true)\n   * @param  {String}  opts.filename Filename for this file (optional)\n   * @param  {Number}  opts.timeout  Milliseconds to wait before timing the request out (default: 0)\n   * @param  {String}  opts.contentType Mime type of the file\n   * @param  {Array}   opts.extract Array of metadata parts to extract from image.\n   *                                 Possible values: `location`, `exif`, `image`, `palette`\n   * @param  {String}  opts.label Label\n   * @param  {String}  opts.title Title\n   * @param  {String}  opts.description Description\n   * @param  {String}  opts.creditLine The credit to person(s) and/or organization(s) required by the supplier of the image to be used when published\n   * @param  {Object}  opts.source Source data (when the asset is from an external service)\n   * @param  {String}  opts.source.id The (u)id of the asset within the source, i.e. 'i-f323r1E'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.name The name of the source, i.e. 'unsplash'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.url A url to where to find the asset, or get more info about it in the source\n   *                                  Optional\n   * @return {Promise} Resolves with the created asset document\n   */\n  upload: function upload(assetType, body) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    validators.validateAssetType(assetType); // If an empty array is given, explicitly set `none` to override API defaults\n\n    var meta = opts.extract || undefined;\n\n    if (meta && !meta.length) {\n      meta = ['none'];\n    }\n\n    var dataset = validators.hasDataset(this.client.clientConfig);\n    var assetEndpoint = assetType === 'image' ? 'images' : 'files';\n    var options = optionsFromFile(opts, body);\n    var tag = options.tag,\n        label = options.label,\n        title = options.title,\n        description = options.description,\n        creditLine = options.creditLine,\n        filename = options.filename,\n        source = options.source;\n    var query = {\n      label: label,\n      title: title,\n      description: description,\n      filename: filename,\n      meta: meta,\n      creditLine: creditLine\n    };\n\n    if (source) {\n      query.sourceId = source.id;\n      query.sourceName = source.name;\n      query.sourceUrl = source.url;\n    }\n\n    var observable = this.client._requestObservable({\n      tag: tag,\n      method: 'POST',\n      timeout: options.timeout || 0,\n      uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n      headers: options.contentType ? {\n        'Content-Type': options.contentType\n      } : {},\n      query: query,\n      body: body\n    });\n\n    return this.client.isPromiseAPI() ? observable.pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body.document;\n    })).toPromise() : observable;\n  },\n  delete: function _delete(type, id) {\n    // eslint-disable-next-line no-console\n    console.warn('client.assets.delete() is deprecated, please use client.delete(<document-id>)');\n    var docId = id || '';\n\n    if (!/^(image|file)-/.test(docId)) {\n      docId = \"\".concat(type, \"-\").concat(docId);\n    } else if (type._id) {\n      // We could be passing an entire asset document instead of an ID\n      docId = type._id;\n    }\n\n    validators.hasDataset(this.client.clientConfig);\n    return this.client.delete(docId);\n  },\n  getImageUrl: function getImageUrl(ref, query) {\n    var id = ref._ref || ref;\n\n    if (typeof id !== 'string') {\n      throw new Error('getImageUrl() needs either an object with a _ref, or a string with an asset document ID');\n    }\n\n    if (!/^image-[A-Za-z0-9_]+-\\d+x\\d+-[a-z]{1,5}$/.test(id)) {\n      throw new Error(\"Unsupported asset ID \\\"\".concat(id, \"\\\". URL generation only works for auto-generated IDs.\"));\n    }\n\n    var _id$split = id.split('-'),\n        _id$split2 = _slicedToArray(_id$split, 4),\n        assetId = _id$split2[1],\n        size = _id$split2[2],\n        format = _id$split2[3];\n\n    validators.hasDataset(this.client.clientConfig);\n    var _this$client$clientCo = this.client.clientConfig,\n        projectId = _this$client$clientCo.projectId,\n        dataset = _this$client$clientCo.dataset;\n    var qs = query ? queryString(query) : '';\n    return \"https://cdn.sanity.io/images/\".concat(projectId, \"/\").concat(dataset, \"/\").concat(assetId, \"-\").concat(size, \".\").concat(format).concat(qs);\n  }\n});\nmodule.exports = AssetsClient;","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url').generateHelpUrl;\n\nvar assign = require('object-assign');\n\nvar validate = require('./validators');\n\nvar warnings = require('./warnings');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  apiVersion: '1',\n  useProjectHostname: true,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n};\n\nexports.defaultConfig = defaultConfig; // eslint-disable-next-line complexity\n\nexports.initConfig = function (config, prevConfig) {\n  var specifiedConfig = assign({}, prevConfig, config);\n\n  if (!specifiedConfig.apiVersion) {\n    warnings.printNoApiVersionSpecifiedWarning();\n  }\n\n  var newConfig = assign({}, defaultConfig, specifiedConfig);\n  var projectBased = newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    warnings.printBrowserTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    warnings.printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (newConfig.dataset) {\n    validate.dataset(newConfig.dataset);\n  }\n\n  if ('requestTagPrefix' in newConfig) {\n    // Allow setting and unsetting request tag prefix\n    newConfig.requestTagPrefix = newConfig.requestTagPrefix ? validate.requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, '') : undefined;\n  }\n\n  newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, '');\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.withCredentials;\n  exports.validateApiVersion(newConfig.apiVersion);\n  var hostParts = newConfig.apiHost.split('://', 2);\n  var protocol = hostParts[0];\n  var host = hostParts[1];\n  var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n  if (newConfig.useProjectHostname) {\n    newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n  } else {\n    newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = newConfig.url;\n  }\n\n  return newConfig;\n};\n\nexports.validateApiVersion = function validateApiVersion(apiVersion) {\n  if (apiVersion === '1' || apiVersion === 'X') {\n    return;\n  }\n\n  var apiDate = new Date(apiVersion);\n  var apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n\n  if (!apiVersionValid) {\n    throw new Error('Invalid API version string, expected `1` or date in format `YYYY-MM-DD`');\n  }\n};","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nexports.filter = filter;\nvar FilterOperator = (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\nvar FilterSubscriber = (function (_super) {\n    __extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.count = 0;\n        return _this;\n    }\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=filter.js.map","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction UsersClient(client) {\n  this.client = client;\n}\n\nassign(UsersClient.prototype, {\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/users/\".concat(id)\n    });\n  }\n});\nmodule.exports = UsersClient;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar objectAssign = require('object-assign');\n\nvar isPlainObject = require('is-plain-object');\n\nvar serializeTypes = ['boolean', 'string', 'number'];\n\nvar isBuffer = function isBuffer(obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj);\n};\n\nmodule.exports = function () {\n  return {\n    processOptions: function processOptions(options) {\n      var body = options.body;\n\n      if (!body) {\n        return options;\n      }\n\n      var isStream = typeof body.pipe === 'function';\n      var shouldSerialize = !isStream && !isBuffer(body) && (serializeTypes.indexOf(_typeof(body)) !== -1 || Array.isArray(body) || isPlainObject(body));\n\n      if (!shouldSerialize) {\n        return options;\n      }\n\n      return objectAssign({}, options, {\n        body: JSON.stringify(options.body),\n        headers: objectAssign({}, options.headers, {\n          'Content-Type': 'application/json'\n        })\n      });\n    }\n  };\n};\n//# sourceMappingURL=jsonRequest.js.map","module.exports = function Pubsub() {\n  var subscribers = []\n  return {\n    subscribe: subscribe,\n    publish: publish\n  }\n  function subscribe(subscriber) {\n    subscribers.push(subscriber)\n    return function unsubscribe() {\n      var idx = subscribers.indexOf(subscriber)\n      if (idx > -1) {\n        subscribers.splice(idx, 1)\n      }\n    }\n  }\n  function publish() {\n    for (var i = 0; i < subscribers.length; i++) {\n      subscribers[i].apply(null, arguments)\n    }\n  }\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar identity_1 = require(\"./identity\");\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\nfunction pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity_1.identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('./util/observable'),\n    Observable = _require.Observable,\n    map = _require.map,\n    filter = _require.filter;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require2 = require('./config'),\n    defaultConfig = _require2.defaultConfig,\n    initConfig = _require2.initConfig;\n\nvar validate = require('./validators');\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  withConfig: function withConfig(newConfig) {\n    return this.clone().config(newConfig);\n  },\n  getUrl: function getUrl(uri) {\n    var useCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = useCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var _this = this;\n\n    var uri = options.url || options.uri; // If the `canUseCdn`-option is not set we detect it automatically based on the method + URL.\n    // Only the /data endpoint is currently available through API-CDN.\n\n    var canUseCdn = typeof options.canUseCdn === 'undefined' ? ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0 : options.canUseCdn;\n    var useCdn = this.clientConfig.useCdn && canUseCdn;\n    var tag = options.tag && this.clientConfig.requestTagPrefix ? [this.clientConfig.requestTagPrefix, options.tag].join('.') : options.tag || this.clientConfig.requestTagPrefix;\n\n    if (tag) {\n      options.query = _objectSpread({\n        tag: validate.requestTag(tag)\n      }, options.query);\n    }\n\n    var reqOptions = getRequestOptions(this.clientConfig, assign({}, options, {\n      url: this.getUrl(uri, useCdn)\n    }));\n    return new Observable(function (subscriber) {\n      return httpRequest(reqOptions, _this.clientConfig.requester).subscribe(subscriber);\n    });\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n});\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;"],"sourceRoot":""}